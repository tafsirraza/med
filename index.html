
<!DOCTYPE html>
<html lang="en"
dir="ltr">
	<head>
		<!-- METADATA -->
		<meta charset="UTF-8">
		<meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
		<meta content="" name="description">
		<meta content="" name="author">
		<meta name="keywords" content=""/>
		
        <!-- CSRF TOKEN -->
        <meta name="csrf-token" content="dVeuaKr6hVgLSSh9q2s3FcEHgEzajEJrEfvef3tG">

        <!-- TITLE -->
        <title>Scholar AIDI</title>
        
        <!--Favicon -->
<link rel="icon" href="https://scholaraid.ai/uploads/logo/favicon.ico" type="image/x-icon"/>

<!-- Bootstrap 5 -->
<link href="https://scholaraid.ai/plugins/bootstrap-5.0.2/css/bootstrap.min.css" rel="stylesheet">

<!-- Icons -->
<link href="/themes/default/css/icons.css" rel="stylesheet" />

<!-- P-scrollbar -->
<link href="https://scholaraid.ai/plugins/p-scrollbar/p-scrollbar.css" rel="stylesheet" />

<!-- Simplebar -->
<link href="https://scholaraid.ai/plugins/simplebar/css/simplebar.css" rel="stylesheet">

<!-- Tippy -->
<link href="https://scholaraid.ai/plugins/tippy/scale-extreme.css" rel="stylesheet" />
<link href="https://scholaraid.ai/plugins/tippy/material.css" rel="stylesheet" />

<!-- Toastr -->
<link href="https://scholaraid.ai/plugins/toastr/toastr.min.css" rel="stylesheet" />

<link href="https://scholaraid.ai/plugins/awselect/awselect.min.css" rel="stylesheet" />

	<!-- Sweet Alert CSS -->
	<link href="https://scholaraid.ai/plugins/sweetalert/sweetalert2.min.css" rel="stylesheet" />
	<link href="https://scholaraid.ai/plugins/highlight/highlight.dark.min.css" rel="stylesheet" />


<!-- All Styles -->
<link rel="preload" as="style" href="https://scholaraid.ai/build/assets/dashboard-BS9KYIWV.css" /><link rel="stylesheet" href="https://scholaraid.ai/build/assets/dashboard-BS9KYIWV.css" />


	
	
<script type="text/javascript" class="flasher-js">(function() {    var rootScript = 'https://cdn.jsdelivr.net/npm/@flasher/flasher@1.3.1/dist/flasher.min.js';    var FLASHER_FLASH_BAG_PLACE_HOLDER = {};    var options = mergeOptions([], FLASHER_FLASH_BAG_PLACE_HOLDER);    function mergeOptions(first, second) {        return {            context: merge(first.context || {}, second.context || {}),            envelopes: merge(first.envelopes || [], second.envelopes || []),            options: merge(first.options || {}, second.options || {}),            scripts: merge(first.scripts || [], second.scripts || []),            styles: merge(first.styles || [], second.styles || []),        };    }    function merge(first, second) {        if (Array.isArray(first) && Array.isArray(second)) {            return first.concat(second).filter(function(item, index, array) {                return array.indexOf(item) === index;            });        }        return Object.assign({}, first, second);    }    function renderOptions(options) {        if(!window.hasOwnProperty('flasher')) {            console.error('Flasher is not loaded');            return;        }        requestAnimationFrame(function () {            window.flasher.render(options);        });    }    function render(options) {        if ('loading' !== document.readyState) {            renderOptions(options);            return;        }        document.addEventListener('DOMContentLoaded', function() {            renderOptions(options);        });    }    if (1 === document.querySelectorAll('script.flasher-js').length) {        document.addEventListener('flasher:render', function (event) {            render(event.detail);        });    }    if (window.hasOwnProperty('flasher') || !rootScript || document.querySelector('script[src="' + rootScript + '"]')) {        render(options);    } else {        var tag = document.createElement('script');        tag.setAttribute('src', rootScript);        tag.setAttribute('type', 'text/javascript');        tag.onload = function () {            render(options);        };        document.head.appendChild(tag);    }})();</script>
</head>

	<body class="app sidebar-mini light-theme ltr">

		<div id="loader-line" class="hidden"></div>

		<!-- PAGE -->
		<div class="page">
			<div class="page-main" style="poisition: relative;">

				<!-- SIDE MENU BAR -->
<aside class="app-sidebar"> 
    <div class="app-sidebar__logo">
        <a class="header-brand" href="https://scholaraid.ai">
            <img src="https://scholaraid.ai/uploads/logo/dashboard-logo.png" class="header-brand-img desktop-lgo" alt="Dashboard Logo">
                <img src="https://scholaraid.ai/uploads/logo/dashboard-collapsed-logo.png" class="header-brand-img mobile-logo" alt="Dashboard Logo">
        </a>
    </div>
    <ul class="side-menu app-sidebar3">

      <li class="slide">
    <a class="side-menu__item" href="https://scholaraid.ai/app/user/dashboard">
        <img class="side-menu__icon" src="https://scholaraid.ai/img/frontend/features/dashboard.png" alt="Dashboard Logo" style="width: 35px; height: 35px;">
        <span class="side-menu__label">Dashboard</span>
    </a>
</li>

<li class="slide">
    <a class="side-menu__item" href="https://scholaraid.ai/app/user/custom-chat/file">
        <img class="side-menu__icon" src="https://scholaraid.ai/img/frontend/features/chatbots.png" alt="Chatbot Creator Logo" style="width: 35px; height: 35px;">
        <span class="side-menu__label">AI Chatbot Creator</span>
    </a>
</li>

        
        <hr class="w-90 text-center m-auto">
        <li class="side-item side-item-category mt-4 mb-3">Account</li>
        <li class="slide">
            <a class="side-menu__item" href="https://scholaraid.ai/app/user/pricing/plans">
            <span class="side-menu__icon lead-3 fa-solid fa-box-circle-check"></span>
            <span class="side-menu__label">Subscription Plans</span></a>
        </li>
       
        <li class="slide">
            <a class="side-menu__item" href="https://scholaraid.ai/app/user/profile">
            <span class="side-menu__icon lead-3 fa-solid fa-id-badge"></span>
            <span class="side-menu__label">My Account</span></a>
        </li>
       
                <hr class="w-90 text-center m-auto">
        <div class="side-progress-position mt-4">
            <div class="side-plan-wrapper text-center pt-3 pb-3">
                <span class="side-item side-item-category mt-4">Plan: <span class="text-primary">No Active Subscription</span>  </span>
                <div class="view-credits mt-1"><a class=" fs-11 text-muted mb-2" href="javascript:void(0)" id="view-credits" data-bs-toggle="modal" data-bs-target="#creditsModel"><i class="fa-solid fa-coin-front text-yellow "></i> View Credits</a></div> 
                                    <div class="text-center mt-3 mb-2"><a href="https://scholaraid.ai/app/user/pricing/plans" class="btn btn-primary pl-6 pr-6 fs-11"> <i class="fa-solid fa-bolt text-yellow mr-2"></i> Upgrade</a></div> 
                              
            </div>
                    </div>
    </ul>
</aside>

<div class="modal fade" id="creditsModel" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
          <div class="modal-content">
            <div class="modal-header">
                <h6 class="text-center font-weight-bold fs-16"> Credits on Scholar AIDI</h6>	
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body pl-5 pr-5">
                
                <h6 class="font-weight-semibold mb-2 mt-3">Unlock your creativity with Scholar AIDI credits</h6>
                <p class="text-muted">Maximize your content creation with Scholar AIDI. Each credit unlocks powerful AI tools and features designed to enhance your content creation.</p>
                
                <div class="d-flex justify-content-between mt-3">
                    <div class="font-weight-bold fs-12">AI Chats/Templates</div>
                    <div class="font-weight-bold fs-12">Credits</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">OpenAI GPT 4o</div>
                    <div class="text-muted fs-10"> 1000  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">OpenAI GPT 4o Mini</div>
                    <div class="text-muted fs-10"> 0  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">OpenAI GPT 4</div>
                    <div class="text-muted fs-10"><span> 0  Words</span></div>
                </div>                
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">OpenAI GPT 4 Turbo</div>
                    <div class="text-muted fs-10"> 0  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">OpenAI GPT 3.5 Turbo</div>
                    <div class="text-muted fs-10"> 0  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">OpenAI Fine Tune</div>
                    <div class="text-muted fs-10"> 0  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">Anthropic Claude 3 Opus</div>
                    <div class="text-muted fs-10"> 1000  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">Anthropic Claude 3.5 Sonnet</div>
                    <div class="text-muted fs-10"> 1000  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">Anthropic Claude 3 Haiku</div>
                    <div class="text-muted fs-10"> 1000  Words</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">Google Gemini Pro</div>
                    <div class="text-muted fs-10"> 1000  Words</div>
                </div>
                
                <div class="d-flex justify-content-between mt-4">
                    <div class="font-weight-bold fs-12">AI Image</div>
                    <div class="font-weight-bold fs-12">Credits</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">Dalle</div>
                    <div class="text-muted fs-10">10 Images</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">Stable Diffusion</div>
                    <div class="text-muted fs-10">10 Images</div>
                </div>

                <div class="d-flex justify-content-between mt-4">
                    <div class="font-weight-bold fs-12">Extra</div>
                    <div class="font-weight-bold fs-12">Credits</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">AI Voiceover</div>
                    <div class="text-muted fs-10">1,000 Characters</div>
                </div>
                <hr class="mt-2 mb-2">
                <div class="d-flex justify-content-between">
                    <div class="text-muted fs-10">AI Speech to Text</div>
                    <div class="text-muted fs-10">10 Minutes</div>
                </div>
               
                <div class="text-center mt-4"><a href="https://scholaraid.ai/app/user/pricing/plans" class="btn btn-primary pl-6 pr-6 fs-11" style="text-transform: none"> <i class="fa-solid fa-bolt text-yellow mr-2"></i> Upgrade Now</a></div> 
            </div>
          </div>
    </div>
</div>
<!-- END SIDE MENU BAR -->
				<!-- APP CONTENT -->			
				<div class="app-content main-content" style="padding-bottom: 4rem">
					<div class="side-app">

						<!-- TOP MENU BAR -->
<div class="app-header header">
    <div class="container-fluid"> 
        <div class="d-flex">
            <a class="header-brand" href="https://scholaraid.ai">
                <img src="https://scholaraid.ai/uploads/logo/dashboard-logo.png" class="header-brand-img desktop-lgo" alt="Dashboard Logo">
                <img src="https://scholaraid.ai/uploads/logo/dashboard-collapsed-logo.png" class="header-brand-img mobile-logo" alt="Dashboard Logo">
            </a>
            <div class="app-sidebar__toggle nav-link icon" data-toggle="sidebar">
                <a class="open-toggle" href="#">
                    <span class="fa fa-align-left header-icon"></span>
                </a>
            </div>
            <!-- SEARCH BAR -->
            <div id="search-bar">                
                <div>
                    <a class="nav-link icon">
                        <form id="search-field" action="https://scholaraid.ai/app/user/search" method="POST" enctype="multipart/form-data">         
                            <input type="hidden" name="_token" value="dVeuaKr6hVgLSSh9q2s3FcEHgEzajEJrEfvef3tG">                   
                            <input type="search" name='keyword'>
                        </form>                        
                    </a>
                </div>                
            </div>
            <!-- END SEARCH BAR -->
            <!-- MENU BAR -->
            <div class="d-flex order-lg-2 ml-auto"> 
                
                <div class="dropdown header-notify">
                    <a class="nav-link icon" data-bs-toggle="dropdown">                        
                                                                                                            <span class="header-icon fa-solid fa-bell pr-3"></span>                            
                                                                
                                                                        </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow  animated">
                                                                                                                                                <div class="view-all-button text-center">
                                        <h6 class=" fs-12 font-weight-bold mb-1 notification-dark-theme">There are no new notifications</h6>                                    
                                    </div>
                                                                                                            
                    </div>
                </div>
                <div class="dropdown items-center flex">
                    <a href="#" class="nav-link icon btn-theme-toggle">
                        <span class="header-icon fa-sharp fa-solid"></span>
                    </a>
                </div>
                <div class="dropdown header-expand" >
                    <a  class="nav-link icon" id="fullscreen-button">
                        <span class="header-icon fa-solid fa-expand" id="fullscreen-icon"></span>
                    </a>
                </div>
                <div class="dropdown header-languages mr-2">
                    <a class="nav-link icon" data-bs-toggle="dropdown">
                        <span class="header-icon fa-solid fa-globe"></span>
                    </a>
                    <div class="dropdown-menu animated">
                        <div class="local-menu">
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <a href="https://scholaraid.ai/en/app/user/custom-chat/file" class="dropdown-item d-flex pl-4" hreflang="en">
                                        <div>
                                            <span class="font-weight-normal fs-12">English</span> <span class="fs-10 text-muted">en</span>
                                        </div>
                                    </a>   
                                                                                                                                                                                                                                                                                                                                                                                <a href="https://scholaraid.ai/es/app/user/custom-chat/file" class="dropdown-item d-flex pl-4" hreflang="es">
                                        <div>
                                            <span class="font-weight-normal fs-12">Español</span> <span class="fs-10 text-muted">es</span>
                                        </div>
                                    </a>   
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </div>
                    </div>
                </div>                
                <div class="dropdown profile-dropdown">
                    <a href="#" class="nav-link" data-bs-toggle="dropdown">
                        <span class="float-right">
                            <img src=" /themes/default/img/users/avatar.jpg " alt="img" class="avatar avatar-md">
                        </span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-arrow animated">
                        <div class="text-center pt-2">
                            <span class="text-center user fs-12 pb-0 font-weight-bold">Tafsir Raza</span><br>
                            <span class="text-center fs-12 text-muted">Happy Person</span>
                            <div class="dropdown-divider mt-3"></div>    
                        </div>
                        <a class="dropdown-item d-flex" href="https://scholaraid.ai/app/user/pricing/plans">
                            <span class="profile-icon fa-solid fa-box-circle-check"></span>
                            <div class="fs-12">Subscription Plans</div>
                        </a>        
                        <a class="dropdown-item d-flex" href="https://scholaraid.ai/app/user/workbook">
                            <span class="profile-icon fa-solid fa-folder-bookmark"></span>
                            <div class="fs-12">My Workbooks</div>
                        </a> 
                                                
                        <a class="dropdown-item d-flex" href="https://scholaraid.ai/app/user/purchases">
                            <span class="profile-icon fa-solid fa-money-check-pen"></span>
                            <span class="fs-12">Orders</span></a>
                        </a>
                                                    <a class="dropdown-item d-flex" href="https://scholaraid.ai/app/user/support">
                                <span class="profile-icon fa-solid fa-headset"></span>
                                <div class="fs-12">Support Request</div>
                            </a>
                                
                                                    <a class="dropdown-item d-flex" href="https://scholaraid.ai/app/user/notification">
                                <span class="profile-icon fa-solid fa-message-exclamation"></span>
                                <div class="fs-12">Notifications</div>
                                   
                            </a>
                         
                        <a class="dropdown-item d-flex" href="https://scholaraid.ai/app/user/profile">
                            <span class="profile-icon fa-solid fa-id-badge"></span>
                            <span class="fs-12">Profile Settings</span></a>
                        </a>
                        <a class="dropdown-item d-flex" href="https://scholaraid.ai/logout" onclick="event.preventDefault();
                            document.getElementById('logout-form').submit();"> 
                            <span class="profile-icon fa-solid fa-right-from-bracket"></span>          
                            <div class="fs-12">Logout</div>                            
                        </a>
                        <form id="logout-form" action="https://scholaraid.ai/logout" method="POST" class="d-none">
                            <input type="hidden" name="_token" value="dVeuaKr6hVgLSSh9q2s3FcEHgEzajEJrEfvef3tG">                        </form>
                    </div>
                </div>
            </div>
            <!-- END MENU BAR -->
        </div>
    </div>
</div>
<!-- END TOP MENU BAR -->

						
						
<style>

    .chat-edit{
        min-width:37px; 
        border-radius:.25rem !important;
    }
    .add-chat-pdf{
        min-width:20px !important; 
        border-radius:.25rem !important;
    }

   
   .dropzone {

        border-radius: 100%;
        padding: 20px;
        text-align: center;
        cursor: pointer;
        transition: background-color 0.3s ease, border-color 0.3s ease;
        color: #6c757d;
        position: relative;
        overflow: hidden;
        
    }

    .dropzone.dragover {
        background-color: #e2e6ea;
        border-color: #495057;
        color: #495057;
    }


    .dropzone .fa_plus {
        font-size: 1rem;
        border: 2px solid;
        padding: 5px;
        border-radius: 50%;
    }

    .dropzone input[type="file"] {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0;
        cursor: pointer;
    }

    #loader {
        position: absolute;
        top: 14%;
        left: 31%;
        transform: translate(-50%, -50%);
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3; /* Light grey */
        border-top: 5px solid #3498db; /* Blue */
        border-radius: 50%;
        animation: spin 1s linear infinite;
        display: none; /* Hidden by default */
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
   .card-body{
       padding:0.5rem 0.5rem !important;
    }
   .templates-nav-menu .nav-tabs .nav-link{
       font-size:10px !important;
   }
   .templates-nav-menu .template-nav-menu-inner{
       background-color:#a79d9d26 !important;
       box-shadow: none;
   }

    .card{
         box-shadow: none !important;
    }
    .fw-bold {
        font-weight: 600 !important;
    }
    .form-text {
        position: relative !important;
    }
    .pcr-app{
        position:relative !important;
    }
    .btn-primary{
        min-width:0px !important;
        color:white;
    }
    .btn-primary:hover{
        transform:translateY(0px) none;
    }
   .chat-sidebar-container { 
        background: #dee5eb !important; 
    }
    
    body.dark-theme .chat-sidebar-container {
        background-color: #2b2d31 !important;
    }
    
    body.dark-theme .web_link_div a,
    body.dark-theme .user-active,
    body.dark-theme .showTexts a,
    body.dark-theme .showUrls a {
        color: white !important;
    }

   
    
</style>

	<form id="openai-form" action="" method="GET" enctype="multipart/form-data" class="mt-24">		
		<input type="hidden" name="_token" value="dVeuaKr6hVgLSSh9q2s3FcEHgEzajEJrEfvef3tG">	<div class="row justify-content-md-center">	
			<div class="col-sm-12 text-center">
				<h3 class="card-title fs-20 mb-3 super-strong">
					<svg width="30px" height="30px" viewBox="0 -43.5 1111 1111" class="icon mr-2" version="1.1" xmlns="http://www.w3.org/2000/svg" fill="#000000">
						<g id="SVGRepo_bgCarrier" stroke-width="0"/>						
						<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/>						
						<g id="SVGRepo_iconCarrier">						
						<path d="M672.914286 144.091429c-1.462857-0.731429 212.114286 196.022857 212.114285 196.022857V775.314286h87.771429v-452.022857s-264.777143-264.045714-266.24-264.777143H277.942857c-48.274286 0-87.771429 39.497143-87.771428 87.771428h87.771428s397.897143-0.731429 394.971429-2.194285z m-394.971429 711.68v-629.028572h-87.771428v629.028572c0 48.274286 39.497143 87.771429 87.771428 87.771428h607.085714c48.274286 0 87.771429-39.497143 87.771429-87.771428h-87.771429-607.085714z" fill="#007bff"/>						
						<path d="M365.714286 504.685714h424.228571v263.314286h-424.228571z" fill="#A8C8E6"/>						
						<path d="M365.714286 680.228571h424.228571v87.771429h-424.228571z" fill="#61B6F2"/>						
						<path d="M365.714286 504.685714h424.228571v87.771429h-424.228571z" fill="#FC830A"/>						
						<path d="M869.668571 345.234286l-12.434285-33.645715-2.925715 51.2 43.885715-40.96h-237.714286l43.885714 43.885715 0.731429-263.314286h-14.628572l-31.451428 30.72 210.651428 212.114286z m-161.645714-287.451429h-90.697143l-0.731428 351.085714h322.56l6.582857-111.908571-237.714286-239.177143z" fill="#007bff"/>						
						</g>						
					</svg>
				  Custom Chatbot Builder
				</h3>
				<h6 class="mb-0 fs-12 mb-3 text-muted">Create your custom chatbot and train using Word/PDF/CSV/Web url/Text documents</h6>
		
			</div>
 
			<div class="chat-main-container">
				<div class="chat-sidebar-container">
					<div class="chat-sidebar-search">	
						<div class="input-box relative">				
							<input id="chat-search" class="form-control" type="text" placeholder="Search">	
							<i class="fa-solid fa-magnifying-glass fs-14 text-muted chat-search-icon"></i>	
						</div>			
					</div>
 
					<div class="row justify-content-center">
					    
					    <div class="col-sm-12 text-center pb-5">									
							<a class="btn ripple pt-2 pb-2 pl-4 pr-4 mt-3 fs-13 d-block rounded-3 mx-5 fw-bold" style="background:rgb(61 135 202);color:white" id="add-assistant" href="javascript:void(0);"><i class="fa fa-plus mr-1"></i>Create Chatbot</a>
						</div>
					    
					</div>

					<div class="chat-sidebar-messages pt-0 mb-4">	
				
							
						
							 
							    <input type="hidden" name="_chat_id" value="03160acb-50e6-4810-af63-f0a40f857d14" />
														
							<div class="chat-sidebar-message  selected-message " id="03160acb-50e6-4810-af63-f0a40f857d14">
							
								<h6 class="chat-title mb-2 chat-small py-1 text-center" id="title-03160acb-50e6-4810-af63-f0a40f857d14">
									  Medora
								</h6>
								
							    <a class="btn btn-primary d-block fs-13 add-chat-pdf shadow-none mr-1 bg-white text-dark" style="color:black !important;border-color:#b1b1b1 !important;font-weight:600" onclick="fileUploadModal('03160acb-50e6-4810-af63-f0a40f857d14')"  href="javascript:void(0);">
    						        Document
    						    </a>
						
        						
								<div class="d-flex mt-3">
								    <a href="#" class="btn btn-primary h-20 fw-bold ripple px-1 py-2 fs-13 d-block rounded-3 shadow-none chat-pdf" id="03160acb-50e6-4810-af63-f0a40f857d14">Script</a>
								    
								    <a href="#" onclick="promptModal('03160acb-50e6-4810-af63-f0a40f857d14')"  class="btn btn-primary h-21 fw-bold shadow-none ripple px-1 py-2 fs-13 d-block rounded-3 mx-2 border-0 text-dark" style="background:#d0dbe5">Prompt</a>
								    
								    <a href="javascript:void(0)" class="btn  d-block bg-dark fs-16 text-white rounded-3 pt-1 px-3 rounded-1 settings_btn" onclick="settingsModal('03160acb-50e6-4810-af63-f0a40f857d14')"  href="javascript:void(0);">
                                       <i class="fa fa-gear my-1"></i>
                                    </a>
                                    
									<a href="#" class="btn ripple fs-15 px-3 h-20 chat-delete ml-2 rounded-3" id="03160acb-50e6-4810-af63-f0a40f857d14" style="background:#ff0f00">
									    <i class="fa fa-trash text-white" data-tippy-content="Delete Chat"></i>
									 </a>
									
								</div>
								
								<div class="chat-info mt-2">
									<div class="chat-count fs-10"><span>0</span> messages</div>
									<div class="chat-date fs-10">1 hour ago</div>
								</div>
								
							</div>
							
								
						<input type="file" class="pdf-input" style="display: none;" name="file" id="file" accept=".pdf, .csv, .docx">	
					</div>
				</div>

				<div class="chat-message-container" id="chat-system">
					<div class="card-header">
						<div class="w-100 pt-2 pb-2">						
							<div class="d-flex">
								<div class="overflow-hidden mr-4"><img alt="Avatar" class="chat-avatar" src="https://scholaraid.ai/chats/csv.jpg"></div>
								<div class="widget-user-name"><span class="font-weight-bold">Your Chatbot</span><br><span class="text-muted">Chat with Word/PDF/CSV/Web url/Text</span></div>
							</div>
						</div>
						<div class="text-right">											
							<a id="expand" class="template-button" href="#"><i class="fa-solid fa-bars table-action-buttons table-action-buttons-big edit-action-button" data-tippy-content="Show Chat Conversations"></i></a>
							<div class="btn-group" id="chat-export-button">
								<button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown" id="export" data-bs-display="static" aria-expanded="false" data-tippy-content="Export Chat Conversation"><i class="fa-solid fa-bars table-action-buttons table-action-buttons-big edit-action-button"></i></button>
								<div class="dropdown-menu" aria-labelledby="export" data-popper-placement="bottom-start">						
									<a class="dropdown-item" id="export-txt" onclick="exportTXT();"><i class="fa-solid fa-text-size fs-13 text-muted mr-2"></i>Text File</a>								
									<a class="dropdown-item" id="export-word" onclick="exportWord();"><i class="fa-sharp fa-solid fa-file-word fs-13 text-muted mr-2"></i>MS Word</a>
									<a class="dropdown-item" id="export-pdf" onclick="exportPDF();"><i class="fa-sharp fa-solid fa-file-pdf fs-13 text-muted mr-2"></i>PDF File</a>
								</div>
							</div>							
						</div>
					</div>
					<div class="card-body pl-0 pr-0">
						<div class="row">						
							<div class="col-md-12 col-sm-12" >									
								<div id="chat-container">
									<div class="msg left-msg" id="intro-drop-box">
										<div class="message-img" style="background-image: url('/chats/csv.jpg')"></div>
										<div class="message-bubble">					
											<div class="msg-text">Hey there, I can help you get any insights out of your Word/PDF/CSV documents, what would you like to know?</div>
										</div>
									</div>
									<div id="image-drop-box">
										<div class="image-drop-area text-center">
											<div class="msg left-msg text-center mt-9">
												<div class="message-img" style="background-image: url('/chats/filebot.jpg')"></div>
											    <div class="message-bubble">					
													<div class="msg-text">Hey there, I can help you with analyzing any Word/PDF/CSV documents that share with me</div>
													<div class="msg-text">Select and upload your documents to get started</div>
												</div> 
											</div>											
										</div>
									</div>
									<div id="progress-drop-box" class="mt-9 text-center">
										<p id="progress-text" class="mt-8"></p>
									</div>									
									<div id="dynamic-inputs"></div>
									<div id="generating-status" class="text-center">
										<img src='https://scholaraid.ai/img/svgs/code.svg'>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="card-footer">
						<div class="row">						
							<div class="col-sm-12">									
								<div class="input-box mb-0">								
									<div class="chat-controllers">										
										<textarea type="message" class="form-control " rows="1" id="message" name="message" placeholder="Type your message here..."></textarea>
										<div class="chat-button-box"><a class="btn chat-button-icon" href="javascript:void(0)" id="mic-button"><i class="fa-solid fa-microphone"></i></a></div>
										<div class="chat-button-box no-margin-right"><a class="btn chat-button-icon" href="javascript:void(0)" id="stop-button"><i class="fa-solid fa-circle-stop"></i></a></div>
										<div><button class="btn ripple chat-button" id="chat-button">Send <i class="fa-solid fa-paper-plane-top ml-1"></i></button></div>										
									</div> 
				
																	</div> 
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>

	


    <div class="modal fade" id="settingModal" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
		  	<div class="modal-content">
				<div class="modal-header">
				    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				
			    <div class="modal-body pl-5 pr-5">
			        <h6 class="text-center fs-15"><i class="fa-solid fa-notebook text-primary mr-2"></i>Chatbot Appearance</h6>
			        
		            <div class="container mt-3">
                        <div class="form-chatBotSettings">
                            
                            
                        <!-- Accent Color Picker -->

                            <form class="javacript:void(0)" id="settings_form" enctype="multipart-form/data">
                                
                                
                                <div class="mb-3">
                                    <label class="form-label" for="name-chat">Chatbot Logo</label>
                                    
                                    <div class="update-input-container d-flex">
                                        <input class="form-control" id="chat_logo" name="chatLogo" type="file" accept="image/*">
                                    </div>
                                    
                                    <div style="display:none;margin-top:7px;" id="logo_imgdiv">
                                        <img src="" width="20%" height="20%" id="chatLogoshow">
                                    </div>
                                    
                                    <small class="form-text text-muted ml-4">Give your chatbot a unique and descriptive name.</small>
                                </div>
                                
                                
                                <div class="mb-3">
                                    <label class="form-label" for="name-chat">Chatbot Name</label>
                                    <div class="update-input-container d-flex">
                                        <input class="form-control" id="name-chat" type="text" placeholder="e.g., My Awesome Chatbot">
                                        
                                    </div>
                                    <small class="form-text text-muted ml-4">Give your chatbot a unique and descriptive name.</small>
                                </div>
                        
                                <!-- Input 2: Chatbot Subtitle -->
                                <div class="mb-3">
                                    <label class="form-label" for="chatBotSubtitle">Chatbot Subtitle</label>
                                    <div class="update-input-container d-flex">
                                        <input class="form-control" id="chatBotSubtitle" name="chatBotSubtitle" type="text" placeholder="e.g., Interact with our latest AI chatbot ...">
                                        
                                    </div>
                                    <small class="form-text text-muted ml-4">Give your chatbot a unique and descriptive subtitle.</small>
                                </div>
                                
                                
                                <div class="mb-3">
                                    
                                    <label class="form-label" for="inputPlaceHolder">Header Color</label>
                                    <div class="pickr">
                                        <div class="pcr-app visible" style="top: 5px; left: 0px;">
                                            <div class="pcr-interaction">
                                                <div class="color-picker" id="color-picker"></div>
                                                <input class="pcr-result" id="color-picker-input" name="colorCode" type="text" spellcheck="false" readonly>
                                            </div>
                                        </div>
                                    </div>
                                    <small class="form-text text-muted ml-4">Select an accent color for the chatbot header background.</small>
                                 </div>
                                 
                                <div class="mb-3">
                                    <label class="form-label" for="bubbleText">Bubble Color</label>
                                    <div class="pcr-app visible" style="top: 5px; left: 0px;">
                                        <div class="pcr-interaction">
                                            <div class="color-picker" id="bubble-picker"></div>
                                            <input class="pcr-result" id="bubble-picker-input" name="bubbleColorCode" type="text" spellcheck="false" readonly>
                                        </div>
                                    </div>
                                    <small class="form-text text-muted ml-4">The initial message from the chatbot in the conversation.</small>
                                </div>
                                 
                                <!-- Input 5: Bubble Text -->
                                
                                
                        
                            
                                <!-- Input 3: Placeholder Text -->
                                <div class="mb-3">
                                    <label class="form-label" for="inputPlaceHolder">Placeholder Text</label>
                                    <div class="update-input-container d-flex">
                                        <input class="form-control" id="inputPlaceHolder" name="inputPlaceHolder" type="text" placeholder="e.g., Type your message...">
                                        
                                    </div>
                                    <small class="form-text text-muted ml-4">The text displayed in the input field before the user starts typing.</small>
                                </div>
                            
                                <!-- Input 4: Welcome Message -->
                                <div class="mb-3">
                                    <label class="form-label" for="welcomeMessage">Welcome Message</label>
                                    <div class="update-input-container d-flex">
                                        <input class="form-control" id="welcomeMessage" name="welcomeMessage" type="text" placeholder="e.g., Hello! How can I assist you today?">
                                        
                                    </div>
                                    <small class="form-text text-muted ml-4">A friendly greeting displayed when the chatbot starts.</small>
                                </div>
                        
                              
                                
                                <div class="mb-3">
                                    <div class="text-center w-100">
        								<button type="submit" name="submit" class="btn btn-primary btn-block  pl-9 pr-9 fs-11 pt-2 pb-2" id="generate">Update</button>
        							</div>
                                </div>
                             </form>
                             
                        </div>
                    </div>
			    </div>
			 </div>
		 </div>
    </div>
    
    
    <div class="modal fade" id="assistantPromptModal" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
		  	<div class="modal-content">
				<div class="modal-header">
				    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				
			    <div class="modal-body pl-5 pr-5">
			        
                    <h6 class="text-center font-weight-extra-bold fs-16"><i class="fa-solid fa-notebook text-primary mr-2"></i> Chatbot Prompt </h6>

                    <div class="row card-body">
                        <div class="col-sm-12">	
                        
                           <form id="assistantPromptForm" method="post">
                                <div class="input-box mt-4">								
    							    <h6 class="fs-11 mb-2 font-weight-semibold">Add your prompt text</h6>
    							   <div class="form-group">
    								    <div id="field-buttons"></div>							    
    								    <textarea type="text" rows="5" class="form-control" id="prompt_text" name="prompt_text" placeholder="enter prompt.."></textarea>
    						       </div>
    						   </div> 
    						   
    		
    						   <div class="row text-center">
    							   <div class="col-md-12 mb-3">
    							        <button type="button" id="add-prompt-button" class="btn btn-primary pl-7 pr-7 ripple">
    							            <span class="ink animate" style="height: 134.41px; width: 134.41px; top: -54.8647px; left: -9.02794px;"></span>Add
    							        </button>
    							   </div>
    						   </div>
                           </form>
                           
                           <form id="assistantFaqForm" method="post">
	                            <div class="input-box mt-2">								
    							    <h6 class="fs-11 mb-2 font-weight-semibold">Add FAQ</h6>
    							    <div class="form-group d-flex">
    								    <input type="text" class="form-control" name="question" id="question" placeholder="Enter question...">
                                        <button type="button" class="btn btn-primary rounded-0" id="addQuestion">
                                            Add
                                        </button>
    						        </div>
    						   </div>
    						</form>
    						<div class="faqs">
    						    <p>Questions</p>
    						    <ul class="list-group listFaqs"></ul>
    						</div>
 
					    </div>
			  	   </div> 
                </div>
            </div>
        </div>
    </div>

    
	<div class="modal fade" id="uploadModal" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
		  	<div class="modal-content">
				<div class="modal-header">
				    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				
			    <div class="modal-body pl-5 pr-5">
			        
                    <h6 class="text-center font-weight-extra-bold fs-16"><i class="fa-solid fa-notebook text-primary mr-2"></i> PDF/CSV File Upload </h6>

                    <div class="row justify-content-center">
            
                        <div class="col-md-12">

                            <div class="mt-5 mb-1">
                                <div class="templates-nav-menu">
                                    <div class="template-nav-menu-inner p-1">
                                        <ul class="nav nav-tabs  ml-5" id="myTab" role="tablist">
                                            <li class="nav-item" role="presentation">
                                                <button class="nav-link active" id="pdf-tab" data-bs-toggle="tab" data-bs-target="#pdf" type="button" role="tab" aria-controls="pdf" aria-selected="true">PDF/CSV/XLSX/Docs</button>
                                            </li>
                                            <li class="nav-item category-check" role="presentation">
                                                <button class="nav-link" id="web-tab" data-bs-toggle="tab" data-bs-target="#web" type="button" role="tab" aria-controls="web" aria-selected="false">Web</button>
                                            </li>
                                            <li class="nav-item category-check" role="presentation">
                                                <button class="nav-link" id="text-tab" data-bs-toggle="tab" data-bs-target="#text" type="button" role="tab" aria-controls="text" aria-selected="false">Text</button>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                        <div class="col-md-12 col-sm-12">
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="pdf" role="tabpanel" aria-labelledby="pdf-tab">
                                    <div class="prompt-boxes">
                                        <div class="border-0 mb-2">
                                            <div class="pt-3">
                                                <form>
                                                    <div class="row justify-content-center mt-4">
                                                        <div class="form-group col-md-4">
                										    <div class="mb-3">
                                                                <label for="fileInput" class="form-label">PDF,XLSX,CSV</label>
                                                                <div id="dropzone" class="dropzone">
                                                                    <i class="bi bi-upload"></i>
                                                                    <p><i class="fa fa-plus fa_plus"></i></p>
                                                                    <input type="file" class="custom-file-input" id="fileInput" accept=".pdf, .csv, .docx">
                                                                    <div id="loader"></div>
                                                                </div>
                                                                <div id="filePreview" class="file-preview-container mt-3"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </form> 
                                            </div>
                                        </div>
                                        
                                        <div class="">
                                            
                                            <div class="float-right">
                                                <div class="d-flex align-items-center justify-content-between mx-2">
                                                    <div class="form-group d-none mr-1 file_delete_div">
                                                        <a href="javascript:void(0)" id="fileDeleteAll"> <i class="fa-solid fa-trash fs-13 mb-3 float-right text-danger"></i></a>
                                                    </div>
                                                    
                                                    
                                                    <div class="form-group d-flex">
                                                        <label class="form-check-label mr-1 fs-12" for="selectAll">Check All</label>
                                                        <a href="javascript:void(0)"> <input type="checkbox" class="form-check-input fs-12" id="fileSelectAll"></a>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                            <table class="table table-bordered dataTable no-footer dtr-inline mb-0">
                                                <tbody>
                                                    <tr>
                                                        <td width="18%" class="fs-14 font-weight-bold text-center">File name</td>
                                                        <td width="65%" class="fs-14 font-weight-bold text-right">Status</td>
                                                        <td class="text-center mb-0 fs-14 font-weight-bold"> Action</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <div class="chat-pdf-sidebar"></div>
                            			</div>

                                    </div>
                                </div>
                                <div class="tab-pane fade" id="web" role="tabpanel" aria-labelledby="web-tab">
                                    
                                    
                                    <div class="prompt-boxes">
                                        
                                        <div class="row">
                                            <div class="col-md-12">
                            					<div class="card justify-content-center border-0 mt-5">
                            						<div class="pt-2 pb-2">						
                            							<div class="relative d-flex">
                            								<div class="input-box w-100 mb-0 mt-1">				
                            									<input id="url-link" class="form-control" type="text" name="link" placeholder="Paste any URL link and press scraping button...">		
                            								</div>		
                            								<button type="button" class="btn btn-primary chat-button rounded-0 my-1 p-1" id="url-process-button">Scrape</button>
                            							</div>
                            						</div>
                                        	    </div>


                                                <div class="float-right">
                                                    <div class="d-flex align-items-center justify-content-between mx-2">
                                                        <div class="form-group d-none mr-1 scrap_delete_div">
                                                            <a href="javascript:void(0)" id="scrapDeleteAll"> <i class="fa-solid fa-trash fs-13 mb-3 float-right text-danger"></i></a>
                                                        </div>
                                                        
                                                        
                                                        <div class="form-group d-flex">
                                                            <label class="form-check-label mr-1 fs-12" for="scrapSelectAll">Check All</label>
                                                            <a href="javascript:void(0)"> <input type="checkbox" class="form-check-input fs-12" id="scrapSelectAll"></a>
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                            </div>
                                            
                                            <div class="col-md-12">
                                                
                                                <table class="table table-bordered dataTable no-footer dtr-inline mb-0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="18%" class="fs-14 font-weight-bold text-center">Web Urls</td>
                                                            <td width="65%" class="fs-14 font-weight-bold text-right">Status</td>
                                                            <td class="text-center mb-0 fs-14 font-weight-bold"> Action</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                
                                                <div class="chat-web-sidebar">
                                                
                                			    </div>
                                            </div>
                                     
                                			
                                			<div class="border-0 text-center mb-2 mt-1 webProcessDiv" style="
                                                    position: fixed;
                                                    bottom: 25px;
                                                    left: 50%;
                                                    transform: translateX(-50%);display:none;z-index: 999;">
                                                    
                                                <button type="button" id="webProcessBtn" class="btn btn-primary ripple pl-7 mt-3 pr-7">
                                                    <span class="ink animate" style="height: 134.219px; width: 134.219px; top: -56.547px; left: 3.12487px;"></span>
                                                    Scrape data
                                                </button>
                                            </div>
                                			
                                			<div class="col-md-12 d-none scrap_div">
                                			    <div class="float-right mt-3">
                                                    <div class="d-flex align-items-center justify-content-between mx-2">
                                                        <div class="form-group d-none mr-1 web_delete_div">
                                                            <a href="javascript:void(0)" id="webDeleteAll"> <i class="fa-solid fa-trash fs-13 mb-3 float-right text-danger"></i></a>
                                                        </div>
                                                        
                                                        
                                                        <div class="form-group d-flex">
                                                            <label class="form-check-label mr-1 fs-12" for="webSelectAll">Check All</label>
                                                            <a href="javascript:void(0)"> <input type="checkbox" class="form-check-input fs-12" id="webSelectAll"></a>
                                                        </div>
                                                    </div>
                                                </div>
                                			    
                                                <table class="table table-bordered dataTable no-footer dtr-inline mb-0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="18%" class="fs-14 font-weight-bold text-center">Title</td>
                                                            <td width="65%" class="fs-14 font-weight-bold text-right">Status</td>
                                                            <td class="text-center mb-0 fs-14 font-weight-bold"> Action</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                                
                                                <div class="showUrls"></div>

                                			</div>
                                			
                                        </div>
                                        
                                    </div>
                                </div>
                                
                                <div class="tab-pane fade" id="text" role="tabpanel" aria-labelledby="text-tab">
                                    <div class="prompt-boxes card border-0">
                                        <div class="row card-body">
                                            <div class="col-sm-12">								
                    						   <div class="input-box mt-4">								
                    							  <h6 class="fs-11 mb-2 font-weight-semibold">Title </h6>
                    							  <div class="form-group">
                    								    <div id="field-buttons"></div>							    
                    								    <input type="text" required class="form-control " id="title" name="title">
                							      </div> 
                							   </div> 
                    						   <div class="input-box mt-4">								
                    							  <h6 class="fs-11 mb-2 font-weight-semibold">Text</h6>
                    							  <div class="form-group">
                    								    <div id="field-buttons"></div>							    
                    								    <textarea type="text" rows="5" class="form-control " id="chat_text" name="chat_text"></textarea>
                							      </div> 
                							   </div> 
                							   <div class="row text-center">
                        							 <div class="col-md-12 mb-3">
                        							    <button type="button" id="add-text-button" class="btn btn-primary pl-7 pr-7 ripple"><span class="ink animate" style="height: 134.41px; width: 134.41px; top: -54.8647px; left: -9.02794px;"></span>Add Text</button>
                        							 </div>
                        						  </div>
                							   
                						    </div>
                						    	
                                			<div class="col-md-12">
                                			    
                                			    <div class="float-right mt-3">
                                                    <div class="d-flex align-items-center justify-content-between mx-2">
                                                        
                                                        <div class="form-group d-none mr-1 text_delete_div">
                                                            <a href="javascript:void(0)" class="textDeleteAll"> <i class="fa-solid fa-trash fs-13 mb-3 float-right text-danger"></i></a>
                                                        </div>
                                                        <div class="form-group d-flex">
                                                            <label class="form-check-label mr-1 fs-12" for="textSelectAll">Check All</label>
                                                            <a href="javascript:void(0)"> <input type="checkbox" class="form-check-input fs-12" id="textSelectAll"></a>
                                                        </div>
                                                        
                                                    </div>
                                                </div>
                                			    
                                			    <table class="table table-bordered dataTable no-footer dtr-inline mb-0">
                                                    <tbody>
                                                        <tr>
                                                            <td width="18%" class="fs-14 font-weight-bold text-center">Text</td>
                                                            <td width="65%" class="fs-14 font-weight-bold text-right">Status</td>
                                                            <td class="text-center mb-0 fs-14 font-weight-bold"> Action</td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                	
                            					<div class="showTexts"></div>

                                			</div>
                                			
                						    
        						  	   </div> 
        						  	 
        						    </div>
                                </div>
                            </div>
                        </div>
            		</div>
                </div>
    		</div>
        </div>
    </div>
     
	<div class="modal fade" id="brandVoice" tabindex="-1">
		<div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-md">
		  	<div class="modal-content">
				<div class="modal-header">
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body pl-5 pr-5">
					<h6 class="text-center font-weight-extra-bold fs-16 mb-4"><i class="fa-solid fa-signature text-primary mr-2"></i> Brand Voice</h6>			
					
					<div class="prompts-panel">
			
						<div class="tab-content" id="myTabContent">
			
							<div class="tab-pane fade show active" id="all" role="tabpanel" aria-labelledby="all-tab">
								<div class="row" id="templates-panel">			
									<div class="col-sm-12">
										<div class="form-group mb-5">	
											<h6 class="fs-11 mb-2 font-weight-semibold">Select Company</h6>								
											<select id="company" name="company" class="form-select"  onchange="updateService(this)">		
												<option value="none"> Select your Company / Brand</option>
																					
											</select>
										</div>
									</div>
		
									<div class="col-sm-12">
										<div class="form-group mb-5">
											<h6 class="fs-11 mb-2 font-weight-semibold">Select Product / Service </h6>
											<select id="service" name="service" class="form-select">
												<option value="none">Select your Product / Service</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<div class="text-center">	
								<button type="button" class="btn-primary ripple btn pl-7 pr-7" data-bs-dismiss="modal">Apply</button>
							</div>							
						</div>
					</div>
					
				</div>
		  	</div>
		</div>
	</div>

	

						

						
                    </div>   					
					
                </div>				
                <!-- END APP CONTENT -->
				
				<!-- FOOTER -->
<footer class="footer">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-12 col-sm-12 text-center">
                <span class="text-muted fs-11">Copyright © 2024 <a href="https://scholaraid.ai">Scholar AIDI</a>. All rights reserved</span>
            </div>
            <div class="col-md-12 col-sm-12 text-center">
                <span class="fs-10 font-weight-bold text-info">v6.3</span>
            </div>
        </div>
    </div>
</footer>
<!-- END FOOTER -->

<!-- Back to top -->
<a href="#top" id="back-to-top"><i class="fa fa-angle-double-up"></i></a>

<!-- Jquery -->
<script src="https://scholaraid.ai/plugins/jquery/jquery-3.6.0.min.js"></script>

<!-- Bootstrap 5 -->
<script src="https://scholaraid.ai/plugins/bootstrap-5.0.2/js/bootstrap.bundle.min.js"></script>

<!-- Sidemenu -->
<script src="https://scholaraid.ai/plugins/sidemenu/sidemenu.js"></script>

<!-- P-scroll -->
<script src="https://scholaraid.ai/plugins/p-scrollbar/p-scrollbar.js"></script>
<script src="https://scholaraid.ai/plugins/p-scrollbar/p-scroll.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/themes/classic.min.css"> <!-- 'classic' theme -->
<script src="https://cdn.jsdelivr.net/npm/@simonwep/pickr/dist/pickr.min.js"></script>


<script src="https://scholaraid.ai/plugins/sweetalert/sweetalert2.all.min.js"></script>
<script src="https://scholaraid.ai/plugins/pdf/html2canvas.min.js"></script>
<script src="https://scholaraid.ai/plugins/pdf/jspdf.umd.min.js"></script>
<script src="https://scholaraid.ai/plugins/highlight/highlight.min.js"></script>
<script src="https://scholaraid.ai/plugins/highlight/showdown.min.js"></script>
<script src="https://scholaraid.ai/js/export-chat.js"></script>

   
    <script>
    
       
        const pickr1 = Pickr.create({
            el: '#color-picker',
            theme: 'classic', 
            default: '#42445a',
            components: {
                preview: true,
                opacity: true,
                hue: true,
                interaction: {
                    hex: true,
                    rgba: true,
                    hsla: true,
                    hsva: true,
                    cmyk: true,
                    input: true,
                    save: true
                }
            }
        });

        
        const pickr2 = Pickr.create({
            el: '#bubble-picker',
            theme: 'classic', 
            default: '#42445a',
            components: {
                preview: true,
                opacity: true,
                hue: true,
                interaction: {
                    hex: true,
                    rgba: true,
                    hsla: true,
                    hsva: true,
                    cmyk: true,
                    input: true,
                    save: true
                }
            }
        });

        
        pickr1.on('change', (color, source, instance) => {
            const hexColor = color.toHEXA().toString();
            document.getElementById('color-picker-input').value = hexColor; 
        });
    
        pickr2.on('change', (color, source, instance) => {
            const hexColor = color.toHEXA().toString();
            document.getElementById('bubble-picker-input').value = hexColor; 
        });
        
    </script>


    <script type="text/javascript">
    
    	const main_form = get("#openai-form");
    	const settings_form = get("#settings_form");
    	const input_text = get("#message");
    	const msgerChat = get("#chat-container");
    	
    	const input_url = get("#url-link");
    		
    	const dynamicList = get("#dynamic-inputs");
    	const msgerSendBtn = get("#chat-button");
    	const bot_avatar = "https://scholaraid.ai/chats/csv.jpg";	
    	const user_avatar = "https://scholaraid.ai/";	
    	const mic = document.querySelector('#mic-button');
    	
    	var fileExtension = '';
    	let eventSource = null;
    	let isTranscribing = false;
    	let start_chat = false;
    	let chat_code = "03160acb-50e6-4810-af63-f0a40f857d14";	
    
    	let active_id;
    	let proceed_further = true;
    	var pdf_fileLimit = "10"; 
    	var csv_fileLimit = "10"; 
    	var word_fileLimit = "10"; 
    
    	
    	var $loader = $('#loader');
       
    	
    	let loading = `<span class="loading">
        <span style="background-color: #fff;"></span>
        <span style="background-color: #fff;"></span>
        <span style="background-color: #fff;"></span>
        </span>`;
    	let loading_dark = `<span class="loading">
        <span style="background-color: #1e1e2d;"></span>
        <span style="background-color: #1e1e2d;"></span>
        <span style="background-color: #1e1e2d;"></span>
        </span>`;
    
    	// Process deault conversation
    	$(document).ready(function() {
    		$(".chat-sidebar-message").first().focus().trigger('click');
    
    		let check_messages = document.querySelectorAll('.chat-sidebar-message').length;
    		if (check_messages == 0) {
    			$('#intro-drop-box').addClass('block-display');
    			$('#dynamic-inputs').html('');
    			$('#image-drop-box').removeClass('hidden');
    			$('#progress-drop-box').addClass('hidden');
    			$('#intro-drop-box').addClass('block-display');
    		}
    	});
    
    
    	// Show chat history for conversation
    	$(document).on('click', ".chat-sidebar-message", function (e) { 
    
    		$('.chat-sidebar-message').removeClass('selected-message');
    		$(this).addClass('selected-message');
    		$('#dynamic-inputs').html('');
    		$('#image-drop-box').addClass('hidden');
    		$('#progress-drop-box').addClass('hidden');
    		$('#generating-status').addClass('show-chat-loader');
    		$('#intro-drop-box').removeClass('block-display');
    		active_id = this.id;
    		let code = makeid(10);
    
    		$('.chat-sidebar-container').removeClass('extend');
    
    		$.ajax({
    				headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    				method: 'POST',
    				url: "https://scholaraid.ai/app/user/custom-chat/file/conversation",
    				data: { 'assistant_id': active_id,},
    				success: function (data) {
    
    					$('#dynamic-inputs').html('');
    					$('#generating-status').removeClass('show-chat-loader');
    		
    					start_chat = true;
    					$('#dynamic-inputs').html('');
    					$('#image-drop-box').addClass('hidden');
    					$('#progress-drop-box').addClass('hidden');
    					$('#intro-drop-box').removeClass('block-displays');
    				
    					for (const key in data['messages']) {
    
    						if(data['messages'][key]['role'] == 'user') {
    							appendMessage(user_avatar, "right", data['messages'][key]['content'], '');
    						}
    
    						if (data['messages'][key]['role'] == 'bot') {
    							appendMessageSpecial(bot_avatar, "left", data['messages'][key]['content'], '');
    						}
    					}		
    					
    					hljs.highlightAll();
    				},
    				error: function(data) {
    					toastr.warning('There was an issue while retrieving chat history');
    				}
    			});
    	});
    	
        //copy link text 
        //var chat_id = 'https://ai.3dgearguide.com/chat/script/' + user_id + '/' + $(this).attr('id');
        
        const user_id = "15"
        
        $(document).on('click', '.chat-pdf', function(e) {
                
            e.preventDefault();
            
            var assistant_id = $(this).attr('id');
    
    
            var scriptSrc = `https://scholaraid.ai/chatbot/chatbot.js?assistant_id=${assistant_id}&user_id=${user_id}`;
            
            var scriptTag = '<script src="' + scriptSrc + '"></' + 'script>';
       
    
        	Swal.fire({
        	    
        		title: 'Copy chat PDF script',
        		showCancelButton: true,
        		confirmButtonText: 'Copy Script',
        		reverseButtons: true,
        		input: 'textarea',
    		    inputValue: scriptTag  
    		    
        	}).then((result) => {
        		if (result.value) {
        			var formData = new FormData();
        	
        
        			// Copy the textarea content to clipboard
        			navigator.clipboard.writeText(result.value).then(function() {
        				Swal.fire({
        					icon: 'success',
        					title: 'Copied!',
        					showConfirmButton: false,
        					timer: 2500
        				});
        			}, function(err) {
        				Swal.fire({
        					icon: 'error',
        					title: 'Error',
        					text: 'Failed to copy text.'
        				});
        			});
        		}
        	});
        });
    
    
    
    	// Rename conversation title
    	$(document).on('click', '.chat-edit', function(e) {
    
    		e.preventDefault();
    
    		Swal.fire({
    			title: 'Rename Chat Title',
    			showCancelButton: true,
    			confirmButtonText: 'Rename',
    			reverseButtons: true,
    			input: 'text',
    		}).then((result) => {
    			if (result.value) {
    				var formData = new FormData();
    				formData.append("name", result.value);
    				formData.append("chat_id", $(this).attr('id'));
    				$.ajax({
    					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    					method: 'post',
    					url: '/user/custom-chat/file/rename',
    					data: formData,
    					processData: false,
    					contentType: false,
    					success: function (data) {
    						if (data['status'] == 'success') {
    							toastr.success('Chat title has been updated successfully');
    							document.getElementById("title-"+data['chat_id']).innerHTML =  result.value;
    						} else {
    							toastr.error('Chat title was not updated correctly');
    						}      
    					},
    					error: function(data) {
    						Swal.fire('Update Error', data.responseJSON['error'], 'error');
    					}
    				}) 
    			} else if (result.dismiss !== Swal.DismissReason.cancel) {
    				Swal.fire('No Title Entered', 'Make sure to provide a new chat title before updating', 'warning')
    			}
    		})
    	});
    
    
    
    	function isUrl(string) {
    		try {
    			new URL(string);
    			return true;
    		} catch (error) {
    			return false;
    		}
    	}

    	// Rename conversation title
    	$(document).on('click', '#add-assistant', function(e) {
    
    		e.preventDefault();
    
    		Swal.fire({
    			title: 'Add Chat Assistant',
    			showCancelButton: true,
    			confirmButtonText: 'Add',
    			reverseButtons: true,
    			input: 'text',
    		}).then((result) => {
    		    
    			if (result.value) {
    
    				var name = result.value;
    			 
    			    assistantAnalyze(name);
    
    				
    			} else if (result.dismiss !== Swal.DismissReason.cancel) {
    				Swal.fire('No Title Entered', 'Make sure to provide a new chat title before updating', 'warning')
    			}
    		})
    	});
    
    
    
    	$(document).on('click', '.chat-pdf-delete', function(e) {
    
    		e.preventDefault();

    
    		Swal.fire({
    			title: 'Confirm file Deletion',
    			text: 'It will permanently delete this chat pdf',
    			icon: 'warning',
    			showCancelButton: true,
    			confirmButtonText: 'Delete',
    			reverseButtons: true,
    		}).then((result) => {
    			if (result.isConfirmed) {
    				var formData = new FormData();
    				
    				formData.append("file_id", $(this).attr('id'));
    				
    				formData.append("assistant_id", $('#fileInput').attr('data-assistant-id'));
    				
    				$.ajax({
    					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    					method: 'post',
    					url: '/app/user/custom-chat/file-delete',
    					data: formData,
    					processData: false,
    					contentType: false,
    					success: function (data) {
    						
    						if (data['status'] == 'success') {
    				
    						    
    						    data = data['data'];
    						    
                                file_history(data);
    						    
    							toastr.success('Chat history has been successfully deleted');
    
    							$("#" + active_id).remove();	
    							$('#dynamic-inputs').html('');	
    							$(".chat-sidebar-message").first().focus().trigger('click');
    							let check_messages = document.querySelectorAll('.chat-sidebar-message').length;
    
    							if (check_messages == 0) {
    							
    								$('#dynamic-inputs').html('');
    								$('#image-drop-box').removeClass('hidden');
    								$('#progress-drop-box').addClass('hidden');
    								$('#intro-drop-box').addClass('hidden');
    							}						
    						} else if (data['status'] == 'empty') { 
    							$('#dynamic-inputs').html('');	
    								
    						}else {
    							toastr.warning('There was an issue while deleting chat conversation');
    						}      
    					},
    					error: function(data) {
    						Swal.fire('Oops...','Something went wrong!', 'error')
    					}
    				})
    			} 
    		})
    	});
    
    	// Delete conversation
    	
    	$(document).on('click', '.chat-delete', function(e) {
    
    		e.preventDefault();
    
    		Swal.fire({
    			title: 'Confirm Chat Deletion',
    			text: 'It will permanently delete this chat history',
    			icon: 'warning',
    			showCancelButton: true,
    			confirmButtonText: 'Delete',
    			reverseButtons: true,
    		}).then((result) => {
    			if (result.isConfirmed) {
    				var formData = new FormData();
    				formData.append("chat_id", $(this).attr('id'));
    				$.ajax({
    					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    					method: 'post',
    					url: '/app/user/custom-chat/file/delete',
    					data: formData,
    					processData: false,
    					contentType: false,
    					success: function (data) {
    						
    						if (data['status'] == 'success') {
    							toastr.success('Chat history has been successfully deleted');
    
    							$("#" + active_id).remove();	
    							$('#dynamic-inputs').html('');	
    							$(".chat-sidebar-message").first().focus().trigger('click');
    							let check_messages = document.querySelectorAll('.chat-sidebar-message').length;
    
    							if (check_messages == 0) {
    							
    								$('#dynamic-inputs').html('');
    								$('#image-drop-box').removeClass('hidden');
    								$('#progress-drop-box').addClass('hidden');
    								$('#intro-drop-box').addClass('hidden');
    							}						
    						} else if (data['status'] == 'empty') { 
    							$('#dynamic-inputs').html('');	
    								
    						}else {
    							toastr.warning('There was an issue while deleting chat conversation');
    						}      
    					},
    					error: function(data) {
    						Swal.fire('Oops...','Something went wrong!', 'error')
    					}
    				})
    			} 
    		})
    	});
    
    	// Check textarea input
    	$(function () {		
    		main_form.addEventListener("submit", event => {
    			event.preventDefault();
    			const message = input_text.value;
    			
    			if (!start_chat) {
    				toastr.warning('Upload a valid document before analyzing');
    				return;
    			}
    
    			if (!message) {
    				toastr.warning('Type your message first before sending');
    				return;
    			}
    			
    
    			checkBalance('process', message);
    
    			if (proceed_further) {
    				appendMessage(user_avatar, "right", message, '');
    				input_text.value = "";
    				process(message)
    			}
    		});
    
    	});
    
    
    
    
    	$(function () {
    	    
    	    settings_form.addEventListener("submit", event => {
    	        
			    event.preventDefault();
        
                var chat_logo = $('#chat_logo')[0].files[0]; 
                var chatBotName = $('#name-chat').val();
                var chatBotSubtitle = $('#chatBotSubtitle').val();
                
                var colorCode = $('#color-picker-input').val();
                
                var inputPlaceHolder = $('#inputPlaceHolder').val();
                
                var welcomeMessage = $('#welcomeMessage').val();
                
                var bubbleColorCode = $('#bubble-picker-input').val();
                
                var bubbleText = $('#bubbleText').val();
                
                let assistant_id = $('#settingModal').attr('data-assistant-id');
           
                var form_data = new FormData();
                
                form_data.append('chatLogo', chat_logo);
                form_data.append('chatBotName', chatBotName);
                form_data.append('chatBotSubtitle', chatBotSubtitle);
                form_data.append('colorCode', colorCode);
                form_data.append('inputPlaceHolder', inputPlaceHolder);
                form_data.append('welcomeMessage', welcomeMessage);
                
                form_data.append('bubbleText', bubbleText);
               
                form_data.append('bubbleColorCode', bubbleColorCode);
                
                form_data.append('assistant_id', assistant_id);
                
            
                $.ajax({
                    
                  	headers: {
    					'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
    				},
                    url: 'https://scholaraid.ai/app/user/custom-chat/assistant/settings/save', 
                    type: 'POST',
                    data: form_data,
                	processData: false,
					contentType: false,
                    success: function(response) {
                        // Handle success response
                             
        				if (response['status'] == 'success') {
        					toastr.success('Settings data has been updated');
        						
        				} 
        
        	
                    },
                    error: function(xhr, status, error) {
                        // Handle error response
                        alert('An error occurred while saving settings.');
                    }
                });
        	 });
        });
    
    	// Send chat message
    	
    	function process(message) {
    	    
    		msgerSendBtn.disabled = true;
    		let model = 'gpt-4o';
    // 		let model = document.querySelector('input[name="model"]:checked').value;
    		let company='';
    		let service='';
    // 		let company = document.getElementById("company").value;
    // 		let service = document.getElementById("service").value;
    
    		let formData = new FormData();
    		formData.append('message', message);
    		formData.append('assistant_id', active_id);
    		formData.append('model', model);
    		formData.append('company', company);
    		formData.append('service', service);
    		let code = makeid(10);
    		appendMessage(bot_avatar, "left", "", code);
            let $msg_txt = $("#" + code);
    		let $div = $("#chat-bubble-" + code);
    		const progress = document.getElementById(code);
    		progress.innerHTML = loading_dark;
    
    		const response = document.getElementById(code);
    		const chatbubble = document.getElementById('chat-bubble-' + code);
    		
    		let msg = '';
    		let i = 0;
    
    		fetch('/app/user/custom-chat/file/process', {
    				headers: {
    					'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
    				},
    				method: 'POST', 
    				body: formData
    			})		
    			.then(async (res) => {
    			
    
                    response.innerHTML = "";
                    const reader = res.body.getReader();
                    const decoder = new TextDecoder();
    
                    let text = "";
                    
                    while (true) {
                        const { value, done } = await reader.read();
                        if (done) break;
                        text += decoder.decode(value, { stream: true });
    console.log(text);
    					text = text.replace(/(?:\r\n|\r|\n)/g, '<br>');
    							
                        response.innerHTML = text;
    			
    					msgerChat.scrollTop += 100;
                    }
    
    				msgerSendBtn.disabled = false
    				//calculateCredits();
                })
                .catch((e) => {
                    console.log(e);
    				msgerSendBtn.disabled = false
                });	
    
    	}
    
    
    	// Counter for words
    	function animateValue(id, start, end, duration) {
    		if (start === end) return;
    		var range = end - start;
    		var current = start;
    		var increment = end > start? 1 : -1;
    		var stepTime = Math.abs(Math.floor(duration / range));
    		var obj = document.getElementById(id);
    		var timer = setInterval(function() {
    			current += increment;
    			if (current > 0) {
    				obj.innerHTML = current;
    			} else {
    				obj.innerHTML = 0;
    			}
    			
    			if (current == end) {
    				clearInterval(timer);
    			}
    		}, stepTime);
    	}
    
    	// Display chat messages (bot and user)
    	function appendMessage(img, side, text, code) {
    		let msgHTML;
    		text = escape_html(text);
    				
    		if (side == 'left' && text == '') {
    			msgHTML = `
    			<div class="msg ${side}-msg">
    			<div class="message-img" style="background-image: url(${img})"></div>
    			<div class="message-bubble" id="chat-bubble-${code}" data-message="${text}">
    				<div class="msg-text" id="${code}"></div>
    				<a href="#" class="copy"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 96 960 960" fill="currentColor" width="20"> <path d="M180 975q-24 0-42-18t-18-42V312h60v603h474v60H180Zm120-120q-24 0-42-18t-18-42V235q0-24 18-42t42-18h440q24 0 42 18t18 42v560q0 24-18 42t-42 18H300Zm0-60h440V235H300v560Zm0 0V235v560Z"></path> </svg></a>
    			</div>
    			</div>`;
    		} else {
    			if (side == 'left') {
    				msgHTML = `
    				<div class="msg ${side}-msg">
    				<div class="message-img" style="background-image: url(${img})"></div>
    				<div class="message-bubble" id="chat-bubble-${code}" data-message="${text}">
    					<div class="msg-text" id="${code}">${text}</div>
    					<a href="#" class="copy"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 96 960 960" fill="currentColor" width="20"> <path d="M180 975q-24 0-42-18t-18-42V312h60v603h474v60H180Zm120-120q-24 0-42-18t-18-42V235q0-24 18-42t42-18h440q24 0 42 18t18 42v560q0 24-18 42t-42 18H300Zm0-60h440V235H300v560Zm0 0V235v560Z"></path> </svg></a>
    				</div>
    				</div>`;
    			} else {
    				msgHTML = `
    				<div class="msg ${side}-msg">
    				<div class="message-img" style="background-image: url(${img})"></div>
    				<div class="message-bubble" id="chat-bubble-${code}">
    					<div class="msg-text" id="${code}">${text}</div>
    				</div>
    				</div>`;				
    			}
    			
    		}
    
    		dynamicList.insertAdjacentHTML("beforeend", msgHTML);
    		msgerChat.scrollTop += 500;
    	}
    
    	function appendMessageSpecial(img, side, text, code, code) {
    		let msgHTML;
    		let copy_text = text;
    		text = escape_html(text);
    
    		msgHTML = `
    		<div class="msg ${side}-msg">
    		<div class="message-img" style="background-image: url(${img})"></div>
    		<div class="message-bubble" id="chat-bubble-${code}" data-message="${copy_text}">
    			<div class="msg-text" id="${code}">${text}</div>
    			<a href="#" class="copy"><svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 96 960 960" fill="currentColor" width="20"> <path d="M180 975q-24 0-42-18t-18-42V312h60v603h474v60H180Zm120-120q-24 0-42-18t-18-42V235q0-24 18-42t42-18h440q24 0 42 18t18 42v560q0 24-18 42t-42 18H300Zm0-60h440V235H300v560Zm0 0V235v560Z"></path> </svg></a>
    		</div>
    		</div>`;
    			
    		dynamicList.insertAdjacentHTML("beforeend", msgHTML);
    		msgerChat.scrollTop += 500;
    	}
    
    	function get(selector, root = document) {
    		return root.querySelector(selector);
    	}
    
    	// Generate a random value
    	function makeid(length) {
    		let result = '';
    		const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
    		const charactersLength = characters.length;
    		let counter = 0;
    		while (counter < length) {
    			result += characters.charAt(Math.floor(Math.random() * charactersLength));
    			counter += 1;
    		}
    		return result;
    	}
    
    	function nl2br (str, is_xhtml) {
         	var breakTag = (is_xhtml || typeof is_xhtml === 'undefined') ? '<br />' : '<br>';
         	return (str + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1' + breakTag + '$2');
      	} 
    
    	$("#expand").on('click', function (e) {
            $('.chat-sidebar-container').toggleClass('extend');
        });
    
    
    	// Search chat history
    	$('#chat-search').on('keyup', function () {
            var search = $(this).val().toLowerCase();
            $('.chat-sidebar-messages').find('.chat-sidebar-message').each(function () {
                if ($(this).filter(function() {
                    return $(this).find('h6').text().toLowerCase().indexOf(search) > -1;
                }).length > 0 || search.length < 1) {
                    $(this).show();
                } else {
                    $(this).hide();
                }
            });
        });
    
    
    	// Send via keyboard shortcuts
    	$('#message').on('keypress', function (e) {
    		if (e.keyCode == 13 && !e.shiftKey) {
    			e.preventDefault();
    			const message = input_text.value;
    			if (!start_chat) {
    				toastr.warning('Upload a valid document before analyzing');
    				return;
    			}
    			
    			if (!message) {
    				toastr.warning('Type your message first before sending');
    				return;
    			}			
    
    			checkBalance('process', message);
    
    			if (proceed_further) {
    				appendMessage(user_avatar, "right", message, '');
    				input_text.value = "";
    				process(message)
    			}
    		}
        });
    
    
    	// Capture input text via microphone
        if(mic) {
            if ('SpeechRecognition' in window || 'webkitSpeechRecognition' in window) {
                const speechRecognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
    
                speechRecognition.continuous = true;
    
                speechRecognition.addEventListener('start', () => {
                    $("#mic-button").find('i').removeClass('fa-microphone').addClass('fa-stop-circle');
                });
    
                speechRecognition.addEventListener('result', (event) => {
                    const transcript = event.results[0][0].transcript;
                    $("#message").val($("#message").val() + transcript + ' ');
    
                    mic.click();
                });
    
                speechRecognition.addEventListener('end', () => {
                    $("#mic-button").find('i').addClass('fa-microphone').removeClass('fa-stop-circle');
                    isTranscribing = false;
                });
    
                mic.addEventListener('click', () => {
                    if (!isTranscribing) {
                        speechRecognition.start();
                        isTranscribing = true;
                    } else {
                        speechRecognition.stop();
                        isTranscribing = false;
                    }
                });
            } else {
                console.log('Web Speech Recognition API not supported by this browser');
                $("#mic-button").hide()
            }
        }
    
    
    	// Stop chat response
    	$('#stop-button').on('click', function(e){
            e.preventDefault();
    
            if(eventSource){
                eventSource.close();
    			msgerSendBtn.disabled = false
            }
        });
    
    

    
    
    	// Search prompt
    	$(document).on('keyup', '#search-template', function () {
    		var searchTerm = $(this).val().toLowerCase();
    		$('#templates-panel').find('> div').each(function () {
    			if ($(this).filter(function() {
    				return (($(this).find('h6').text().toLowerCase().indexOf(searchTerm) > -1) || ($(this).find('p').text().toLowerCase().indexOf(searchTerm) > -1));
    			}).length > 0 || searchTerm.length < 1) {
    				$(this).show();
    			} else {
    				$(this).hide();
    			}
    		});
    	});
    
    
    	function escape_html (str) {
            let converter = new showdown.Converter({openLinksInNewWindow: true});
            converter.setFlavor('github');
            str = converter.makeHtml(str);
    
            /* add copy button */
            str = str.replaceAll('</code></pre>', '</code><button type="button" class="copy-code" onclick="copyCode(this)"><span class="label-copy-code">Copy</span></button></pre>');
    
            return str;
        }
    
    	function copyCode(button) {
    		const pre = button.parentElement;
    		const code = pre.querySelector('code');
    		const range = document.createRange();
    		range.selectNode(code);
    		window.getSelection().removeAllRanges();
    		window.getSelection().addRange(range);
    		document.execCommand("copy");
    		window.getSelection().removeAllRanges();
    		toastr.success('Code has been copied successfully');
    	}
    
    	$(document).on('click', ".copy", function (e) {
    
    		var textArea = document.createElement("textarea");
    		textArea.value = $(this).parents('.message-bubble').data('message');
    		console.log(textArea.value);
    		textArea.style.top = "0";
    		textArea.style.left = "0";
    		textArea.style.position = "fixed";
    		document.body.appendChild(textArea);
    		textArea.focus();
    		textArea.select();
    
    		try {
    			document.execCommand('copy');
    		} catch (err) {
    		}
    
    		document.body.removeChild(textArea);
    		toastr.success('Response has been copied successfully');
    	});
    	
    	let ids;
    	
    	
        $(document).on('click', '.upload-pdf-button', function() {
            
            let assistant_id = $(this).attr('data-id');
            
            $('#file').attr('data-assistant-id', assistant_id).click();
            
        });
        
    
    
    	var input_pdf = document.getElementById("file");
    
    	   input_pdf.addEventListener('change', function(){
    	    
    	   let special_id = $(this).attr('data-special-id');
    
    		var files = input_pdf.files;
    		var fileSize = files[0].size; 
    		var fileName = files[0].name;
    		fileExtension = fileName.split('.')[1]
    		var fileSizeInKB = (fileSize/1024)/1024; 
    		console.log(pdf_fileLimit);
    		alert(11);
    		if (fileExtension == 'pdf') {
    			if(fileSizeInKB < pdf_fileLimit){
    
    				checkBalance('analyze', 'none');
    
    				if (proceed_further) {
    					analyze(files,special_id);
    				}
    
    			} else {   
    				toastr.warning('Selected PDF file is too big. Maximum allowed file size is '+pdf_fileLimit+'MB');
    			}
    
    		} else if (fileExtension == 'csv') {
    			if(fileSizeInKB < csv_fileLimit){
    
    				checkBalance('analyze', 'none');
    
    				if (proceed_further) {
    					analyze(files,special_id);
    				}
    
    			} else {   
    				toastr.warning('Selected CSV file is too big. Maximum allowed file size is '+csv_fileLimit+'MB');
    			}
    		} else if (fileExtension == 'docx') {
    			if(fileSizeInKB < word_fileLimit){
    
    				checkBalance('analyze', 'none');
    
    				if (proceed_further) {
    					analyze(files,special_id);
    				}
    
    			} else {   
    				toastr.warning('Selected Word file is too big. Maximum allowed file size is '+word_fileLimit+'MB');
    			}
    		}
    		
    	});
    	
    	
    
    	
        
        
        function assistantAnalyze(name) {
    
    		msgerSendBtn.disabled = true
    		
    		let formData = new FormData();
    		
    		formData.append('name', name);
    
    		let new_chat_id = '';
    
    		$.ajax({
    			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    			method: 'post',
    			url: 'file/assistant/store',
    			data: formData,
    			processData: false,
    			contentType: false,
    			success: function (data) {
    			    
    				if (data['status'] == 'success') {
    				
    					new_chat_id = data['id'];
    		
    					createAssistantConversationBox(new_chat_id);				
    					start_chat = true;		
    					msgerSendBtn.disabled = false;
    	                toastr.success('Assistant added successfully');
   				
    				} 
    
    			    if (data['status'] == 'error') { 
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: data['message'],
                            confirmButtonText: 'OK'
                        });
                        msgerSendBtn.disabled = false;
                    }

    			},
    			error: function(data) {
    				toastr.error('There was an error analyzing your document, please contact support');
    				progress.innerText = "";
    				start_chat = false;
    				msgerSendBtn.disabled = false;
    				$('#progress-drop-box').addClass('hidden');
    				$('#image-drop-box').removeClass('hidden');
    				$('#intro-drop-box').addClass('block-display');
    			
    			}
    		});
    
        }
    	
    
    	function checkBalance(task, message) {
    		let model = document.querySelector('input[name="model"]:checked').value;
    		
    		var formData = new FormData();
    		formData.append("task", task);
    		formData.append("message", message);
    		formData.append("model", model);
    
    		$.ajax({
    			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    			method: 'post',
    			url: '/user/custom-chat/file/check-balance',
    			data: formData,
    			processData: false,
    			contentType: false,
    			success: function (data) {
    				if (data['status'] == 'success') {
    					proceed_further = true;
    				} else {
    					toastr.warning(data['message']);
    					proceed_further = false;
    				}
    			},
    			error: function(data) {
    				Swal.fire('Update Error', data.responseJSON['error'], 'error');
    			}
    		});
    
    	}
    	
    
    
    
    	function createAssistantConversationBox(new_chat_id) {
    	    
    		var formData = new FormData();
    		
    		formData.append("chat_id", new_chat_id);
    		
    		$.ajax({
    			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    			method: 'post',
    			url: "https://scholaraid.ai/app/user/custom-chat/file/metainfo",
    			data: formData,
    			processData: false,
    			contentType: false,
    			success: function (data) {
    				console.log(data)
    				if (data['status'] == 'success') {
    
    					var element = document.getElementById(active_id);
    					if (element) {
    						element.classList.remove("selected-message");
    					}
    
    					let id = data['id'];
    			
    				    let name = data['name'];

    					$('.chat-sidebar-messages').prepend(`<div class="chat-sidebar-message selected-message" id="${id}">
    					
    					    <h6 class="chat-title mb-2 chat-small py-1 text-center" id="title-${id}">
    							${name}
    						</h6>
    						 <a class="btn btn-primary d-block fs-13 add-chat-pdf shadow-none mr-1 bg-white text-dark" style="color:black !important;border-color:#b1b1b1 !important;font-weight:600" onclick="fileUploadModal('${id}')"   href="javascript:void(0);">
    						        Document
    						  </a>
    				  
                            
    						<div class="d-flex mt-3">
    						
    						    <a href="#" class="btn btn-primary h-20 fw-bold ripple px-1 py-2 fs-13 d-block rounded-3 shadow-none chat-pdf" id="${id}">Script</a>
								    
							    <a href="#" onclick='promptModal("${id}")'  class="btn btn-primary h-21 fw-bold shadow-none ripple px-1 py-2 fs-13 d-block rounded-3 mx-2 border-0 text-dark" style="background:#d0dbe5">Prompt</a>
							    
							    <a href="javascript:void(0)" class="btn  d-block bg-dark fs-16 text-white rounded-3 pt-1 px-3 rounded-1 settings_btn" onclick='settingsModal("${id}")'  href="javascript:void(0);">
                                   <i class="fa fa-gear my-1"></i>
                                </a>
                                
								<a href="#" class="btn ripple fs-15 px-3 h-20 chat-delete ml-2 rounded-3" id="${id}" style="background:#ff0f00">
								    <i class="fa fa-trash text-white" data-tippy-content="Delete Chat"></i>
								 </a>
    							
    						</div>
    						
    						<div class="chat-info mt-2">
    							<div class="chat-count fs-10"><span>0</span> messages</div>
    							<div class="chat-date fs-10">Now</div>
    						</div>
    					
    					</div>`);
    
    					active_id = data['id'];
    	
    				}    
    			},
    			error: function(data) {
    				Swal.fire('Update Error', data.responseJSON['error'], 'error');
    			}
    		})
    	}
    
    	function createConversationBox(new_chat_id) {
    	    
    		var formData = new FormData();
    		formData.append("chat_id", new_chat_id);
    		$.ajax({
    			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    			method: 'post',
    			url: '/app/user/custom-chat/file/metainfo',
    			data: formData,
    			processData: false,
    			contentType: false,
    			success: function (data) {
    			    
    				console.log(data);
    				
    				if (data['status'] == 'success') {
    
    					var element = document.getElementById(active_id);
    					if (element) {
    						element.classList.remove("selected-message");
    					}
    
    					let id = data['id'];
    					let title = data['title'];
    					let assistant = data['assistant'];
    					let url = data['url'];
    					let icon = '';
    
    					if (fileExtension == 'pdf') {
    						icon = '<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" class="mr-1" viewBox="0 0 75.320129 92.604164"><g transform="translate(53.548057 -183.975276) scale(1.4843)"><path fill="#ff2116" d="M-29.632812 123.94727c-3.551967 0-6.44336 2.89347-6.44336 6.44531v49.49804c0 3.55185 2.891393 6.44532 6.44336 6.44532H8.2167969c3.5519661 0 6.4433591-2.89335 6.4433591-6.44532v-40.70117s.101353-1.19181-.416015-2.35156c-.484969-1.08711-1.275391-1.84375-1.275391-1.84375a1.0584391 1.0584391 0 0 0-.0059-.008l-9.3906254-9.21094a1.0584391 1.0584391 0 0 0-.015625-.0156s-.8017392-.76344-1.9902344-1.27344c-1.39939552-.6005-2.8417968-.53711-2.8417968-.53711l.021484-.002z" color="#000" font-family="sans-serif" overflow="visible" paint-order="markers fill stroke" style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000000;solid-opacity:1"/><path fill="#f5f5f5" d="M-29.632812 126.06445h28.3789058a1.0584391 1.0584391 0 0 0 .021484 0s1.13480448.011 1.96484378.36719c.79889772.34282 1.36536982.86176 1.36914062.86524.0000125.00001.00391.004.00391.004l9.3671868 9.18945s.564354.59582.837891 1.20899c.220779.49491.234375 1.40039.234375 1.40039a1.0584391 1.0584391 0 0 0-.002.0449v40.74609c0 2.41592-1.910258 4.32813-4.3261717 4.32813H-29.632812c-2.415914 0-4.326172-1.91209-4.326172-4.32813v-49.49804c0-2.41603 1.910258-4.32813 4.326172-4.32813z" color="#000" font-family="sans-serif" overflow="visible" paint-order="markers fill stroke" style="line-height:normal;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:#000000;text-transform:none;text-orientation:mixed;white-space:normal;shape-padding:0;isolation:auto;mix-blend-mode:normal;solid-color:#000000;solid-opacity:1"/><path fill="#ff2116" d="M-23.40766 161.09299c-1.45669-1.45669.11934-3.45839 4.39648-5.58397l2.69124-1.33743 1.04845-2.29399c.57665-1.26169 1.43729-3.32036 1.91254-4.5748l.8641-2.28082-.59546-1.68793c-.73217-2.07547-.99326-5.19438-.52872-6.31588.62923-1.51909 2.69029-1.36323 3.50626.26515.63727 1.27176.57212 3.57488-.18329 6.47946l-.6193 2.38125.5455.92604c.30003.50932 1.1764 1.71867 1.9475 2.68743l1.44924 1.80272 1.8033728-.23533c5.72900399-.74758 7.6912472.523 7.6912472 2.34476 0 2.29921-4.4984914 2.48899-8.2760865-.16423-.8499666-.59698-1.4336605-1.19001-1.4336605-1.19001s-2.3665326.48178-3.531704.79583c-1.202707.32417-1.80274.52719-3.564509 1.12186 0 0-.61814.89767-1.02094 1.55026-1.49858 2.4279-3.24833 4.43998-4.49793 5.1723-1.3991.81993-2.86584.87582-3.60433.13733zm2.28605-.81668c.81883-.50607 2.47616-2.46625 3.62341-4.28553l.46449-.73658-2.11497 1.06339c-3.26655 1.64239-4.76093 3.19033-3.98386 4.12664.43653.52598.95874.48237 2.01093-.16792zm21.21809-5.95578c.80089-.56097.68463-1.69142-.22082-2.1472-.70466-.35471-1.2726074-.42759-3.1031574-.40057-1.1249.0767-2.9337647.3034-3.2403347.37237 0 0 .993716.68678 1.434896.93922.58731.33544 2.0145161.95811 3.0565161 1.27706 1.02785.31461 1.6224.28144 2.0729-.0409zm-8.53152-3.54594c-.4847-.50952-1.30889-1.57296-1.83152-2.3632-.68353-.89643-1.02629-1.52887-1.02629-1.52887s-.4996 1.60694-.90948 2.57394l-1.27876 3.16076-.37075.71695s1.971043-.64627 2.97389-.90822c1.0621668-.27744 3.21787-.70134 3.21787-.70134zm-2.74938-11.02573c.12363-1.0375.1761-2.07346-.15724-2.59587-.9246-1.01077-2.04057-.16787-1.85154 2.23517.0636.8084.26443 2.19033.53292 3.04209l.48817 1.54863.34358-1.16638c.18897-.64151.47882-2.02015.64411-3.06364z"/><path fill="#2c2c2c" d="M-20.930423 167.83862h2.364986q1.133514 0 1.840213.2169.706698.20991 1.189489.9446.482795.72769.482795 1.75625 0 .94459-.391832 1.6233-.391833.67871-1.056548.97958-.65772.30087-2.02913.30087h-.818651v3.72941h-1.581322zm1.581322 1.22447v3.33058h.783664q1.049552 0 1.44838-.39184.405826-.39183.405826-1.27345 0-.65772-.265887-1.06355-.265884-.41282-.587747-.50378-.314866-.098-1.000572-.098zm5.50664-1.22447h2.148082q1.560333 0 2.4909318.55276.9375993.55276 1.4133973 1.6443.482791 1.09153.482791 2.42096 0 1.3994-.4338151 2.49793-.4268149 1.09153-1.3154348 1.76324-.8816233.67172-2.5189212.67172h-2.267031zm1.581326 1.26645v7.018h.657715q1.378411 0 2.001144-.9516.6227329-.95858.6227329-2.5539 0-3.5125-2.6238769-3.5125zm6.4722254-1.26645h5.30372941v1.26645H-4.2075842v2.85478h2.9807225v1.26646h-2.9807225v4.16322h-1.5813254z" letter-spacing="0" style="line-height:125%;-inkscape-font-specification:Franklin Gothic Medium Cond" word-spacing="4.26000023"/></g></svg>';
    					} else if (fileExtension == 'csv') {
    						icon = '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"  class="mr-1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 303.188 303.188" width="20px" height="20px" xml:space="preserve"><g><polygon style="fill:#E4E4E4;" points="219.821,0 32.842,0 32.842,303.188 270.346,303.188 270.346,50.525 "/><polygon style="fill:#007934;" points="227.64,25.263 32.842,25.263 32.842,0 219.821,0 	"/><g><g><path style="fill:#A4A9AD;" d="M114.872,227.984c-2.982,0-5.311,1.223-6.982,3.666c-1.671,2.444-2.507,5.814-2.507,10.109c0,8.929,3.396,13.393,10.188,13.393c2.052,0,4.041-0.285,5.967-0.856c1.925-0.571,3.86-1.259,5.808-2.063v10.601c-3.872,1.713-8.252,2.57-13.14,2.57c-7.004,0-12.373-2.031-16.107-6.094c-3.734-4.062-5.602-9.934-5.602-17.615c0-4.803,0.904-9.023,2.714-12.663c1.809-3.64,4.411-6.438,7.808-8.395c3.396-1.957,7.39-2.937,11.98-2.937c5.016,0,9.808,1.09,14.378,3.27l-3.841,9.871c-1.713-0.805-3.428-1.481-5.141-2.031C118.681,228.26,116.841,227.984,114.872,227.984z"/><path style="fill:#A4A9AD;" d="M166.732,250.678c0,2.878-0.729,5.433-2.191,7.665c-1.459,2.232-3.565,3.967-6.315,5.205c-2.751,1.237-5.977,1.856-9.681,1.856c-3.089,0-5.681-0.217-7.775-0.65c-2.095-0.434-4.274-1.191-6.538-2.27v-11.172c2.391,1.227,4.877,2.186,7.458,2.872c2.582,0.689,4.951,1.032,7.109,1.032c1.862,0,3.227-0.322,4.095-0.969c0.867-0.645,1.302-1.476,1.302-2.491c0-0.635-0.175-1.19-0.524-1.666c-0.349-0.477-0.91-0.958-1.682-1.444c-0.772-0.486-2.83-1.48-6.173-2.983c-3.026-1.375-5.296-2.708-6.809-3.999s-2.634-2.771-3.364-4.443s-1.095-3.65-1.095-5.936c0-4.273,1.555-7.605,4.666-9.997c3.109-2.391,7.384-3.587,12.822-3.587c4.803,0,9.7,1.111,14.694,3.333l-3.841,9.681c-4.337-1.989-8.082-2.984-11.234-2.984c-1.63,0-2.814,0.286-3.555,0.857s-1.111,1.28-1.111,2.127c0,0.91,0.471,1.725,1.412,2.443c0.941,0.72,3.496,2.031,7.665,3.936c3.999,1.799,6.776,3.729,8.331,5.792C165.955,244.949,166.732,247.547,166.732,250.678z"/><path style="fill:#A4A9AD;" d="M199.964,218.368h14.027l-15.202,46.401H184.03l-15.139-46.401h14.092l6.316,23.519c1.312,5.227,2.031,8.865,2.158,10.918c0.148-1.481,0.443-3.333,0.889-5.555c0.443-2.222,0.835-3.967,1.174-5.236L199.964,218.368z"/></g></g><polygon style="fill:#D1D3D3;" points="219.821,50.525 270.346,50.525 219.821,0 	"/><g><rect x="134.957" y="80.344" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="80.344" style="fill:#007934;" width="33.273" height="15.418"/><rect x="134.957" y="102.661" style="fill:#007934;" width="33.274" height="15.419"/><rect x="175.602" y="102.661" style="fill:#007934;" width="33.273" height="15.419"/><rect x="134.957" y="124.979" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="124.979" style="fill:#007934;" width="33.273" height="15.418"/><rect x="94.312" y="124.979" style="fill:#007934;" width="33.273" height="15.418"/><rect x="134.957" y="147.298" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="147.298" style="fill:#007934;" width="33.273" height="15.418"/><rect x="94.312" y="147.298" style="fill:#007934;" width="33.273" height="15.418"/><g><path style="fill:#007934;" d="M127.088,116.162h-10.04l-6.262-10.041l-6.196,10.041h-9.821l10.656-16.435L95.406,84.04h9.624l5.8,9.932l5.581-9.932h9.909l-10.173,16.369L127.088,116.162z"/></g></g></g></svg>';
    					} else if (fileExtension == 'docx') {
    						icon = '<svg width="20px" height="20px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"/><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"/><g id="SVGRepo_iconCarrier"><defs><linearGradient id="a" x1="4.494" y1="-1712.086" x2="13.832" y2="-1695.914" gradientTransform="translate(0 1720)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#2368c4"/><stop offset="0.5" stop-color="#1a5dbe"/><stop offset="1" stop-color="#1146ac"/></linearGradient></defs><title>file_type_word</title><path d="M28.806,3H9.705A1.192,1.192,0,0,0,8.512,4.191h0V9.5l11.069,3.25L30,9.5V4.191A1.192,1.192,0,0,0,28.806,3Z" style="fill:#41a5ee"/><path d="M30,9.5H8.512V16l11.069,1.95L30,16Z" style="fill:#2b7cd3"/><path d="M8.512,16v6.5L18.93,23.8,30,22.5V16Z" style="fill:#185abd"/><path d="M9.705,29h19.1A1.192,1.192,0,0,0,30,27.809h0V22.5H8.512v5.309A1.192,1.192,0,0,0,9.705,29Z" style="fill:#103f91"/><path d="M16.434,8.2H8.512V24.45h7.922a1.2,1.2,0,0,0,1.194-1.191V9.391A1.2,1.2,0,0,0,16.434,8.2Z" style="opacity:0.10000000149011612;isolation:isolate"/><path d="M15.783,8.85H8.512V25.1h7.271a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.783,8.85Z" style="opacity:0.20000000298023224;isolation:isolate"/><path d="M15.783,8.85H8.512V23.8h7.271a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.783,8.85Z" style="opacity:0.20000000298023224;isolation:isolate"/><path d="M15.132,8.85H8.512V23.8h6.62a1.2,1.2,0,0,0,1.194-1.191V10.041A1.2,1.2,0,0,0,15.132,8.85Z" style="opacity:0.20000000298023224;isolation:isolate"/><path d="M3.194,8.85H15.132a1.193,1.193,0,0,1,1.194,1.191V21.959a1.193,1.193,0,0,1-1.194,1.191H3.194A1.192,1.192,0,0,1,2,21.959V10.041A1.192,1.192,0,0,1,3.194,8.85Z" style="fill:url(#a)"/><path d="M6.9,17.988c.023.184.039.344.046.481h.028c.01-.13.032-.287.065-.47s.062-.338.089-.465l1.255-5.407h1.624l1.3,5.326a7.761,7.761,0,0,1,.162,1h.022a7.6,7.6,0,0,1,.135-.975l1.039-5.358h1.477l-1.824,7.748H10.591L9.354,14.742q-.054-.222-.122-.578t-.084-.52H9.127q-.021.189-.084.561c-.042.249-.075.432-.1.552L7.78,19.871H6.024L4.19,12.127h1.5l1.131,5.418A4.469,4.469,0,0,1,6.9,17.988Z" style="fill:#fff"/></g></svg>';
    					}
    					
    				
    					
    					$('.chat-sidebar-messages').prepend(`<div class="chat-sidebar-message selected-message" id=${id}>
    						<h6 class="chat-title chat-small mb-2" id="title-${id}">
    						    ${icon}	${assistant}
    						</h6>
    					
    						
    						<div class="d-flex mt-3">
    						
    						  
    						    
            					<a class="btn btn-primary fs-10 add-chat-pdf upload-pdf-button mr-2" data-id="${id}" href="javascript:void(0);"><i class="fa-solid fa-plus fs-8"></i></a>
    
    							<a href="#" class="btn btn-primary chat-edit  mx-2 fs-12" id="${id}"><i class="fa-sharp fa-solid fa-pen-to-square" data-tippy-content="Edit Name"></i></a>
    							<a href="#" class=" btn btn-primary chat-pdf pt-2" id="${id}"><i class="fa-sharp fa-solid fa-copy" data-tippy-content="Copy Script"></i>Copy</a>
    							<a href="#" class="btn btn-danger chat-delete fs-12 ml-2 "  id="${id}"><i class="fa-sharp fa-solid fa-trash" data-tippy-content="Delete Chat"></i></a>
    						</div>
    						
    						<div class="chat-info mt-2">
    							<div class="chat-count fs-10"><span>0</span> messages</div>
    							<div class="chat-date fs-10">Now</div>
    						</div>
    					
    					</div>`);
    
    					active_id = data['id'];
    	
    				}    
    			},
    			error: function(data) {
    				Swal.fire('Update Error', data.responseJSON['error'], 'error');
    			}
    		})
    	}
    	
    
    
    
    	function calculateCredits() {
    
    		let current = document.getElementById('balance-number').innerHTML;
    
    		$.ajax({
    			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    			method: 'post',
    			url: '/user/custom-chat/file/credits',
    			data: 'credit',
    			processData: false,
    			contentType: false,
    			success: function (data) {
    				console.log(data)
    				if (data['credits'] != 'Unlimited') {
    					animateValue("balance-number", parseInt(current.replace(/,/g, '')), data['credits'], 300);
    				}
    					
    			},
    			error: function(data) {
    				console.log(data)
    			}
    		})
    	}
    
    	function updateService(input) {
    
    		let brand = document.getElementById('brand-voice');
    		let selected = input.options[input.selectedIndex].text;
    		if (input.value != 'none') {
    			brand.innerHTML = '<i class="fa-solid fa-signature mr-1"></i>' + selected;
    		} else {
    			brand.innerHTML = '<i class="fa-solid fa-signature mr-1"></i>Brand Voice';
    		}
    
    
    		if (input.value != 'none') {
    
    			let services = document.getElementById('service');			
    
    
    			$.ajax({
    				headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
    				method: 'POST',
    				url: '/user/templates/brand',
    				data: { 'brand': input.value},
    				success: function (data) {					
    					if (data['status'] == 'success') {
    						removeOptions(document.getElementById('service'));
    						services.options.add( new Option("Select your Product / Service", 'none') )
    						let result = data['products'];
    						for(let i = 0; i < result.length; i++) {
    							let obj = result[i];
    							services.options.add( new Option(obj.name, i) )
    						}
    					} else {						
    						
    					}
    				},
    				error: function(data) {
    					toastr.warning('There was an issue');
    				}
    			});
    		}
    	}
    
    	function removeOptions(selectElement) {
    		var i, L = selectElement.options.length - 1;
    		for(i = L; i >= 0; i--) {
    			selectElement.remove(i);
    		}
    	}
    
    	function handleClick(radio) {
    
    		let model = '';
    		let logo = '';
    
    		switch (radio.value) {
    			case 'gpt-3.5-turbo-0125':
    				model = 'GPT 3.5 Turbo';
    				logo = '<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" class="mr-1 h-4 w-4 align-text-top"><g clip-path="url(#OpenAI_svg__a)"><path fill="currentColor" fill-rule="evenodd" d="M7.385.007a4.156 4.156 0 0 0-2.978 1.568c-.24.304-.463.699-.594 1.055l-.058.156-.219.056A4.031 4.031 0 0 0 .72 5.452a3.94 3.94 0 0 0 .23 3.13c.14.271.315.535.483.729l.12.139-.039.131a3.696 3.696 0 0 0-.159 1.133c0 .657.132 1.214.423 1.788a4.087 4.087 0 0 0 2.817 2.154c.49.1 1.106.116 1.516.039l.177-.033.214.201a4 4 0 0 0 1.561.935c.521.17.985.228 1.528.191 1.337-.092 2.469-.739 3.194-1.825.157-.236.244-.402.374-.718l.103-.249.111-.027a4.308 4.308 0 0 0 1.804-.94 4.082 4.082 0 0 0 1.24-2.16 3.994 3.994 0 0 0-.75-3.26c-.078-.1-.156-.2-.174-.225-.03-.042-.029-.06.03-.29.097-.378.128-.623.128-1.017 0-1.036-.386-1.985-1.132-2.78-.591-.63-1.53-1.096-2.445-1.214a5.048 5.048 0 0 0-1.183.022l-.179.034-.197-.19A4.116 4.116 0 0 0 8.645.125a4.586 4.586 0 0 0-1.26-.117Zm.872 1.098c.235.05.547.159.752.26.176.086.52.304.566.358.016.02-.373.25-1.648.975-.918.522-1.705.98-1.748 1.02a.593.593 0 0 0-.122.16c-.042.089-.043.109-.053 2.394l-.01 2.304-.64-.363c-.353-.2-.666-.379-.696-.398l-.055-.035V5.833c0-1.222.008-2.01.021-2.116a3.08 3.08 0 0 1 .588-1.466 3.82 3.82 0 0 1 .664-.642c.353-.247.856-.456 1.234-.513.09-.013.177-.027.193-.031.088-.021.815.01.954.04Zm3.819 1.232c1.554.275 2.64 1.657 2.514 3.198a2.432 2.432 0 0 1-.03.265c-.005.009-.615-.332-1.354-.756-2.133-1.222-2.065-1.185-2.171-1.2a.593.593 0 0 0-.185.01c-.051.013-.938.505-2.067 1.147a142.354 142.354 0 0 1-2.012 1.134c-.034.008-.036-.036-.036-.771 0-.718.003-.782.035-.81.068-.057 3.305-1.885 3.507-1.98.236-.11.552-.207.812-.246.285-.044.712-.04.986.01ZM3.63 7.971a.558.558 0 0 0 .133.16c.044.033.96.56 2.034 1.17a115.76 115.76 0 0 1 1.953 1.122c0 .027-1.333.77-1.38.77-.045 0-3.031-1.683-3.421-1.928a3.04 3.04 0 0 1-1.333-1.937 3.356 3.356 0 0 1 0-1.165c.095-.422.223-.728.439-1.045.36-.53.832-.905 1.452-1.154l.05-.02.011 1.963.01 1.965.052.099Zm8.7-2.226c1.896 1.08 1.735.985 1.947 1.146a2.955 2.955 0 0 1 1.169 2.35c0 .513-.097.927-.328 1.383a3.15 3.15 0 0 1-1.05 1.149c-.134.084-.54.29-.577.29-.008 0-.018-.875-.02-1.946l-.006-1.946-.047-.092a.654.654 0 0 0-.111-.153c-.036-.034-.952-.568-2.035-1.187-1.083-.62-1.98-1.137-1.995-1.15-.02-.018.123-.107.65-.406.371-.212.69-.384.708-.385.018 0 .781.426 1.695.947Zm-2.921.76.857.485v2.02l-.864.49c-.475.27-.871.494-.88.497a20.71 20.71 0 0 1-.896-.494l-.881-.5V6.995l.873-.497c.496-.283.886-.493.903-.487.017.006.416.228.888.495Zm2.259 1.29c.318.181.613.351.655.378l.076.048v1.947c0 2.075-.003 2.143-.102 2.53-.475 1.861-2.613 2.811-4.34 1.928-.205-.105-.555-.34-.54-.362.004-.008.758-.44 1.676-.962 1.097-.623 1.698-.975 1.752-1.028.162-.157.153-.003.153-2.575v-2.28l.046.023.624.353Zm-1.4 2.845v.797l-1.66.942c-.913.518-1.733.978-1.822 1.022a3.405 3.405 0 0 1-.742.247c-.183.04-.267.047-.598.047-.29 0-.429-.01-.558-.036-.982-.202-1.779-.814-2.193-1.683a2.683 2.683 0 0 1-.278-1.163c-.01-.278.01-.574.041-.604.005-.005.748.412 1.65.925.904.514 1.674.95 1.713.97a.511.511 0 0 0 .341.04c.062-.014.803-.425 2.095-1.16 1.1-.626 2.002-1.14 2.005-1.14.003-.001.005.357.005.796Z" clip-rule="evenodd"></path></g><defs><clipPath id="OpenAI_svg__a"><path fill="#fff" d="M.5 0h16v16H.5z"></path></clipPath></defs></svg>';
    				break;
    			case 'gpt-4':
    				model = 'GPT 4';
    				logo = '<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" class="mr-1 h-4 w-4 align-text-top"><g clip-path="url(#OpenAI_svg__a)"><path fill="currentColor" fill-rule="evenodd" d="M7.385.007a4.156 4.156 0 0 0-2.978 1.568c-.24.304-.463.699-.594 1.055l-.058.156-.219.056A4.031 4.031 0 0 0 .72 5.452a3.94 3.94 0 0 0 .23 3.13c.14.271.315.535.483.729l.12.139-.039.131a3.696 3.696 0 0 0-.159 1.133c0 .657.132 1.214.423 1.788a4.087 4.087 0 0 0 2.817 2.154c.49.1 1.106.116 1.516.039l.177-.033.214.201a4 4 0 0 0 1.561.935c.521.17.985.228 1.528.191 1.337-.092 2.469-.739 3.194-1.825.157-.236.244-.402.374-.718l.103-.249.111-.027a4.308 4.308 0 0 0 1.804-.94 4.082 4.082 0 0 0 1.24-2.16 3.994 3.994 0 0 0-.75-3.26c-.078-.1-.156-.2-.174-.225-.03-.042-.029-.06.03-.29.097-.378.128-.623.128-1.017 0-1.036-.386-1.985-1.132-2.78-.591-.63-1.53-1.096-2.445-1.214a5.048 5.048 0 0 0-1.183.022l-.179.034-.197-.19A4.116 4.116 0 0 0 8.645.125a4.586 4.586 0 0 0-1.26-.117Zm.872 1.098c.235.05.547.159.752.26.176.086.52.304.566.358.016.02-.373.25-1.648.975-.918.522-1.705.98-1.748 1.02a.593.593 0 0 0-.122.16c-.042.089-.043.109-.053 2.394l-.01 2.304-.64-.363c-.353-.2-.666-.379-.696-.398l-.055-.035V5.833c0-1.222.008-2.01.021-2.116a3.08 3.08 0 0 1 .588-1.466 3.82 3.82 0 0 1 .664-.642c.353-.247.856-.456 1.234-.513.09-.013.177-.027.193-.031.088-.021.815.01.954.04Zm3.819 1.232c1.554.275 2.64 1.657 2.514 3.198a2.432 2.432 0 0 1-.03.265c-.005.009-.615-.332-1.354-.756-2.133-1.222-2.065-1.185-2.171-1.2a.593.593 0 0 0-.185.01c-.051.013-.938.505-2.067 1.147a142.354 142.354 0 0 1-2.012 1.134c-.034.008-.036-.036-.036-.771 0-.718.003-.782.035-.81.068-.057 3.305-1.885 3.507-1.98.236-.11.552-.207.812-.246.285-.044.712-.04.986.01ZM3.63 7.971a.558.558 0 0 0 .133.16c.044.033.96.56 2.034 1.17a115.76 115.76 0 0 1 1.953 1.122c0 .027-1.333.77-1.38.77-.045 0-3.031-1.683-3.421-1.928a3.04 3.04 0 0 1-1.333-1.937 3.356 3.356 0 0 1 0-1.165c.095-.422.223-.728.439-1.045.36-.53.832-.905 1.452-1.154l.05-.02.011 1.963.01 1.965.052.099Zm8.7-2.226c1.896 1.08 1.735.985 1.947 1.146a2.955 2.955 0 0 1 1.169 2.35c0 .513-.097.927-.328 1.383a3.15 3.15 0 0 1-1.05 1.149c-.134.084-.54.29-.577.29-.008 0-.018-.875-.02-1.946l-.006-1.946-.047-.092a.654.654 0 0 0-.111-.153c-.036-.034-.952-.568-2.035-1.187-1.083-.62-1.98-1.137-1.995-1.15-.02-.018.123-.107.65-.406.371-.212.69-.384.708-.385.018 0 .781.426 1.695.947Zm-2.921.76.857.485v2.02l-.864.49c-.475.27-.871.494-.88.497a20.71 20.71 0 0 1-.896-.494l-.881-.5V6.995l.873-.497c.496-.283.886-.493.903-.487.017.006.416.228.888.495Zm2.259 1.29c.318.181.613.351.655.378l.076.048v1.947c0 2.075-.003 2.143-.102 2.53-.475 1.861-2.613 2.811-4.34 1.928-.205-.105-.555-.34-.54-.362.004-.008.758-.44 1.676-.962 1.097-.623 1.698-.975 1.752-1.028.162-.157.153-.003.153-2.575v-2.28l.046.023.624.353Zm-1.4 2.845v.797l-1.66.942c-.913.518-1.733.978-1.822 1.022a3.405 3.405 0 0 1-.742.247c-.183.04-.267.047-.598.047-.29 0-.429-.01-.558-.036-.982-.202-1.779-.814-2.193-1.683a2.683 2.683 0 0 1-.278-1.163c-.01-.278.01-.574.041-.604.005-.005.748.412 1.65.925.904.514 1.674.95 1.713.97a.511.511 0 0 0 .341.04c.062-.014.803-.425 2.095-1.16 1.1-.626 2.002-1.14 2.005-1.14.003-.001.005.357.005.796Z" clip-rule="evenodd"></path></g><defs><clipPath id="OpenAI_svg__a"><path fill="#fff" d="M.5 0h16v16H.5z"></path></clipPath></defs></svg>';
    				break;
    			case 'gpt-4o':
    				model = 'GPT 4o';
    				logo = '<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" class="mr-1 h-4 w-4 align-text-top"><g clip-path="url(#OpenAI_svg__a)"><path fill="currentColor" fill-rule="evenodd" d="M7.385.007a4.156 4.156 0 0 0-2.978 1.568c-.24.304-.463.699-.594 1.055l-.058.156-.219.056A4.031 4.031 0 0 0 .72 5.452a3.94 3.94 0 0 0 .23 3.13c.14.271.315.535.483.729l.12.139-.039.131a3.696 3.696 0 0 0-.159 1.133c0 .657.132 1.214.423 1.788a4.087 4.087 0 0 0 2.817 2.154c.49.1 1.106.116 1.516.039l.177-.033.214.201a4 4 0 0 0 1.561.935c.521.17.985.228 1.528.191 1.337-.092 2.469-.739 3.194-1.825.157-.236.244-.402.374-.718l.103-.249.111-.027a4.308 4.308 0 0 0 1.804-.94 4.082 4.082 0 0 0 1.24-2.16 3.994 3.994 0 0 0-.75-3.26c-.078-.1-.156-.2-.174-.225-.03-.042-.029-.06.03-.29.097-.378.128-.623.128-1.017 0-1.036-.386-1.985-1.132-2.78-.591-.63-1.53-1.096-2.445-1.214a5.048 5.048 0 0 0-1.183.022l-.179.034-.197-.19A4.116 4.116 0 0 0 8.645.125a4.586 4.586 0 0 0-1.26-.117Zm.872 1.098c.235.05.547.159.752.26.176.086.52.304.566.358.016.02-.373.25-1.648.975-.918.522-1.705.98-1.748 1.02a.593.593 0 0 0-.122.16c-.042.089-.043.109-.053 2.394l-.01 2.304-.64-.363c-.353-.2-.666-.379-.696-.398l-.055-.035V5.833c0-1.222.008-2.01.021-2.116a3.08 3.08 0 0 1 .588-1.466 3.82 3.82 0 0 1 .664-.642c.353-.247.856-.456 1.234-.513.09-.013.177-.027.193-.031.088-.021.815.01.954.04Zm3.819 1.232c1.554.275 2.64 1.657 2.514 3.198a2.432 2.432 0 0 1-.03.265c-.005.009-.615-.332-1.354-.756-2.133-1.222-2.065-1.185-2.171-1.2a.593.593 0 0 0-.185.01c-.051.013-.938.505-2.067 1.147a142.354 142.354 0 0 1-2.012 1.134c-.034.008-.036-.036-.036-.771 0-.718.003-.782.035-.81.068-.057 3.305-1.885 3.507-1.98.236-.11.552-.207.812-.246.285-.044.712-.04.986.01ZM3.63 7.971a.558.558 0 0 0 .133.16c.044.033.96.56 2.034 1.17a115.76 115.76 0 0 1 1.953 1.122c0 .027-1.333.77-1.38.77-.045 0-3.031-1.683-3.421-1.928a3.04 3.04 0 0 1-1.333-1.937 3.356 3.356 0 0 1 0-1.165c.095-.422.223-.728.439-1.045.36-.53.832-.905 1.452-1.154l.05-.02.011 1.963.01 1.965.052.099Zm8.7-2.226c1.896 1.08 1.735.985 1.947 1.146a2.955 2.955 0 0 1 1.169 2.35c0 .513-.097.927-.328 1.383a3.15 3.15 0 0 1-1.05 1.149c-.134.084-.54.29-.577.29-.008 0-.018-.875-.02-1.946l-.006-1.946-.047-.092a.654.654 0 0 0-.111-.153c-.036-.034-.952-.568-2.035-1.187-1.083-.62-1.98-1.137-1.995-1.15-.02-.018.123-.107.65-.406.371-.212.69-.384.708-.385.018 0 .781.426 1.695.947Zm-2.921.76.857.485v2.02l-.864.49c-.475.27-.871.494-.88.497a20.71 20.71 0 0 1-.896-.494l-.881-.5V6.995l.873-.497c.496-.283.886-.493.903-.487.017.006.416.228.888.495Zm2.259 1.29c.318.181.613.351.655.378l.076.048v1.947c0 2.075-.003 2.143-.102 2.53-.475 1.861-2.613 2.811-4.34 1.928-.205-.105-.555-.34-.54-.362.004-.008.758-.44 1.676-.962 1.097-.623 1.698-.975 1.752-1.028.162-.157.153-.003.153-2.575v-2.28l.046.023.624.353Zm-1.4 2.845v.797l-1.66.942c-.913.518-1.733.978-1.822 1.022a3.405 3.405 0 0 1-.742.247c-.183.04-.267.047-.598.047-.29 0-.429-.01-.558-.036-.982-.202-1.779-.814-2.193-1.683a2.683 2.683 0 0 1-.278-1.163c-.01-.278.01-.574.041-.604.005-.005.748.412 1.65.925.904.514 1.674.95 1.713.97a.511.511 0 0 0 .341.04c.062-.014.803-.425 2.095-1.16 1.1-.626 2.002-1.14 2.005-1.14.003-.001.005.357.005.796Z" clip-rule="evenodd"></path></g><defs><clipPath id="OpenAI_svg__a"><path fill="#fff" d="M.5 0h16v16H.5z"></path></clipPath></defs></svg>';
    				break;
    			case 'gpt-4-0125-preview':
    				model = 'GPT 4 Turbo';
    				logo = '<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" class="mr-1 h-4 w-4 align-text-top"><g clip-path="url(#OpenAI_svg__a)"><path fill="currentColor" fill-rule="evenodd" d="M7.385.007a4.156 4.156 0 0 0-2.978 1.568c-.24.304-.463.699-.594 1.055l-.058.156-.219.056A4.031 4.031 0 0 0 .72 5.452a3.94 3.94 0 0 0 .23 3.13c.14.271.315.535.483.729l.12.139-.039.131a3.696 3.696 0 0 0-.159 1.133c0 .657.132 1.214.423 1.788a4.087 4.087 0 0 0 2.817 2.154c.49.1 1.106.116 1.516.039l.177-.033.214.201a4 4 0 0 0 1.561.935c.521.17.985.228 1.528.191 1.337-.092 2.469-.739 3.194-1.825.157-.236.244-.402.374-.718l.103-.249.111-.027a4.308 4.308 0 0 0 1.804-.94 4.082 4.082 0 0 0 1.24-2.16 3.994 3.994 0 0 0-.75-3.26c-.078-.1-.156-.2-.174-.225-.03-.042-.029-.06.03-.29.097-.378.128-.623.128-1.017 0-1.036-.386-1.985-1.132-2.78-.591-.63-1.53-1.096-2.445-1.214a5.048 5.048 0 0 0-1.183.022l-.179.034-.197-.19A4.116 4.116 0 0 0 8.645.125a4.586 4.586 0 0 0-1.26-.117Zm.872 1.098c.235.05.547.159.752.26.176.086.52.304.566.358.016.02-.373.25-1.648.975-.918.522-1.705.98-1.748 1.02a.593.593 0 0 0-.122.16c-.042.089-.043.109-.053 2.394l-.01 2.304-.64-.363c-.353-.2-.666-.379-.696-.398l-.055-.035V5.833c0-1.222.008-2.01.021-2.116a3.08 3.08 0 0 1 .588-1.466 3.82 3.82 0 0 1 .664-.642c.353-.247.856-.456 1.234-.513.09-.013.177-.027.193-.031.088-.021.815.01.954.04Zm3.819 1.232c1.554.275 2.64 1.657 2.514 3.198a2.432 2.432 0 0 1-.03.265c-.005.009-.615-.332-1.354-.756-2.133-1.222-2.065-1.185-2.171-1.2a.593.593 0 0 0-.185.01c-.051.013-.938.505-2.067 1.147a142.354 142.354 0 0 1-2.012 1.134c-.034.008-.036-.036-.036-.771 0-.718.003-.782.035-.81.068-.057 3.305-1.885 3.507-1.98.236-.11.552-.207.812-.246.285-.044.712-.04.986.01ZM3.63 7.971a.558.558 0 0 0 .133.16c.044.033.96.56 2.034 1.17a115.76 115.76 0 0 1 1.953 1.122c0 .027-1.333.77-1.38.77-.045 0-3.031-1.683-3.421-1.928a3.04 3.04 0 0 1-1.333-1.937 3.356 3.356 0 0 1 0-1.165c.095-.422.223-.728.439-1.045.36-.53.832-.905 1.452-1.154l.05-.02.011 1.963.01 1.965.052.099Zm8.7-2.226c1.896 1.08 1.735.985 1.947 1.146a2.955 2.955 0 0 1 1.169 2.35c0 .513-.097.927-.328 1.383a3.15 3.15 0 0 1-1.05 1.149c-.134.084-.54.29-.577.29-.008 0-.018-.875-.02-1.946l-.006-1.946-.047-.092a.654.654 0 0 0-.111-.153c-.036-.034-.952-.568-2.035-1.187-1.083-.62-1.98-1.137-1.995-1.15-.02-.018.123-.107.65-.406.371-.212.69-.384.708-.385.018 0 .781.426 1.695.947Zm-2.921.76.857.485v2.02l-.864.49c-.475.27-.871.494-.88.497a20.71 20.71 0 0 1-.896-.494l-.881-.5V6.995l.873-.497c.496-.283.886-.493.903-.487.017.006.416.228.888.495Zm2.259 1.29c.318.181.613.351.655.378l.076.048v1.947c0 2.075-.003 2.143-.102 2.53-.475 1.861-2.613 2.811-4.34 1.928-.205-.105-.555-.34-.54-.362.004-.008.758-.44 1.676-.962 1.097-.623 1.698-.975 1.752-1.028.162-.157.153-.003.153-2.575v-2.28l.046.023.624.353Zm-1.4 2.845v.797l-1.66.942c-.913.518-1.733.978-1.822 1.022a3.405 3.405 0 0 1-.742.247c-.183.04-.267.047-.598.047-.29 0-.429-.01-.558-.036-.982-.202-1.779-.814-2.193-1.683a2.683 2.683 0 0 1-.278-1.163c-.01-.278.01-.574.041-.604.005-.005.748.412 1.65.925.904.514 1.674.95 1.713.97a.511.511 0 0 0 .341.04c.062-.014.803-.425 2.095-1.16 1.1-.626 2.002-1.14 2.005-1.14.003-.001.005.357.005.796Z" clip-rule="evenodd"></path></g><defs><clipPath id="OpenAI_svg__a"><path fill="#fff" d="M.5 0h16v16H.5z"></path></clipPath></defs></svg>';
    				break;
    			case 'gpt-4-turbo-2024-04-09':
    				model = 'GPT 4 Turbo Vision';
    				logo = '<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" class="mr-1 h-4 w-4 align-text-top"><g clip-path="url(#OpenAI_svg__a)"><path fill="currentColor" fill-rule="evenodd" d="M7.385.007a4.156 4.156 0 0 0-2.978 1.568c-.24.304-.463.699-.594 1.055l-.058.156-.219.056A4.031 4.031 0 0 0 .72 5.452a3.94 3.94 0 0 0 .23 3.13c.14.271.315.535.483.729l.12.139-.039.131a3.696 3.696 0 0 0-.159 1.133c0 .657.132 1.214.423 1.788a4.087 4.087 0 0 0 2.817 2.154c.49.1 1.106.116 1.516.039l.177-.033.214.201a4 4 0 0 0 1.561.935c.521.17.985.228 1.528.191 1.337-.092 2.469-.739 3.194-1.825.157-.236.244-.402.374-.718l.103-.249.111-.027a4.308 4.308 0 0 0 1.804-.94 4.082 4.082 0 0 0 1.24-2.16 3.994 3.994 0 0 0-.75-3.26c-.078-.1-.156-.2-.174-.225-.03-.042-.029-.06.03-.29.097-.378.128-.623.128-1.017 0-1.036-.386-1.985-1.132-2.78-.591-.63-1.53-1.096-2.445-1.214a5.048 5.048 0 0 0-1.183.022l-.179.034-.197-.19A4.116 4.116 0 0 0 8.645.125a4.586 4.586 0 0 0-1.26-.117Zm.872 1.098c.235.05.547.159.752.26.176.086.52.304.566.358.016.02-.373.25-1.648.975-.918.522-1.705.98-1.748 1.02a.593.593 0 0 0-.122.16c-.042.089-.043.109-.053 2.394l-.01 2.304-.64-.363c-.353-.2-.666-.379-.696-.398l-.055-.035V5.833c0-1.222.008-2.01.021-2.116a3.08 3.08 0 0 1 .588-1.466 3.82 3.82 0 0 1 .664-.642c.353-.247.856-.456 1.234-.513.09-.013.177-.027.193-.031.088-.021.815.01.954.04Zm3.819 1.232c1.554.275 2.64 1.657 2.514 3.198a2.432 2.432 0 0 1-.03.265c-.005.009-.615-.332-1.354-.756-2.133-1.222-2.065-1.185-2.171-1.2a.593.593 0 0 0-.185.01c-.051.013-.938.505-2.067 1.147a142.354 142.354 0 0 1-2.012 1.134c-.034.008-.036-.036-.036-.771 0-.718.003-.782.035-.81.068-.057 3.305-1.885 3.507-1.98.236-.11.552-.207.812-.246.285-.044.712-.04.986.01ZM3.63 7.971a.558.558 0 0 0 .133.16c.044.033.96.56 2.034 1.17a115.76 115.76 0 0 1 1.953 1.122c0 .027-1.333.77-1.38.77-.045 0-3.031-1.683-3.421-1.928a3.04 3.04 0 0 1-1.333-1.937 3.356 3.356 0 0 1 0-1.165c.095-.422.223-.728.439-1.045.36-.53.832-.905 1.452-1.154l.05-.02.011 1.963.01 1.965.052.099Zm8.7-2.226c1.896 1.08 1.735.985 1.947 1.146a2.955 2.955 0 0 1 1.169 2.35c0 .513-.097.927-.328 1.383a3.15 3.15 0 0 1-1.05 1.149c-.134.084-.54.29-.577.29-.008 0-.018-.875-.02-1.946l-.006-1.946-.047-.092a.654.654 0 0 0-.111-.153c-.036-.034-.952-.568-2.035-1.187-1.083-.62-1.98-1.137-1.995-1.15-.02-.018.123-.107.65-.406.371-.212.69-.384.708-.385.018 0 .781.426 1.695.947Zm-2.921.76.857.485v2.02l-.864.49c-.475.27-.871.494-.88.497a20.71 20.71 0 0 1-.896-.494l-.881-.5V6.995l.873-.497c.496-.283.886-.493.903-.487.017.006.416.228.888.495Zm2.259 1.29c.318.181.613.351.655.378l.076.048v1.947c0 2.075-.003 2.143-.102 2.53-.475 1.861-2.613 2.811-4.34 1.928-.205-.105-.555-.34-.54-.362.004-.008.758-.44 1.676-.962 1.097-.623 1.698-.975 1.752-1.028.162-.157.153-.003.153-2.575v-2.28l.046.023.624.353Zm-1.4 2.845v.797l-1.66.942c-.913.518-1.733.978-1.822 1.022a3.405 3.405 0 0 1-.742.247c-.183.04-.267.047-.598.047-.29 0-.429-.01-.558-.036-.982-.202-1.779-.814-2.193-1.683a2.683 2.683 0 0 1-.278-1.163c-.01-.278.01-.574.041-.604.005-.005.748.412 1.65.925.904.514 1.674.95 1.713.97a.511.511 0 0 0 .341.04c.062-.014.803-.425 2.095-1.16 1.1-.626 2.002-1.14 2.005-1.14.003-.001.005.357.005.796Z" clip-rule="evenodd"></path></g><defs><clipPath id="OpenAI_svg__a"><path fill="#fff" d="M.5 0h16v16H.5z"></path></clipPath></defs></svg>';
    				break;
    			case 'claude-3':
    				model = 'Claude 3';
    				break;
    			default:
    				model = 'Fine Tuned';
    				logo = '<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="none" class="mr-1 h-4 w-4 align-text-top"><g clip-path="url(#OpenAI_svg__a)"><path fill="currentColor" fill-rule="evenodd" d="M7.385.007a4.156 4.156 0 0 0-2.978 1.568c-.24.304-.463.699-.594 1.055l-.058.156-.219.056A4.031 4.031 0 0 0 .72 5.452a3.94 3.94 0 0 0 .23 3.13c.14.271.315.535.483.729l.12.139-.039.131a3.696 3.696 0 0 0-.159 1.133c0 .657.132 1.214.423 1.788a4.087 4.087 0 0 0 2.817 2.154c.49.1 1.106.116 1.516.039l.177-.033.214.201a4 4 0 0 0 1.561.935c.521.17.985.228 1.528.191 1.337-.092 2.469-.739 3.194-1.825.157-.236.244-.402.374-.718l.103-.249.111-.027a4.308 4.308 0 0 0 1.804-.94 4.082 4.082 0 0 0 1.24-2.16 3.994 3.994 0 0 0-.75-3.26c-.078-.1-.156-.2-.174-.225-.03-.042-.029-.06.03-.29.097-.378.128-.623.128-1.017 0-1.036-.386-1.985-1.132-2.78-.591-.63-1.53-1.096-2.445-1.214a5.048 5.048 0 0 0-1.183.022l-.179.034-.197-.19A4.116 4.116 0 0 0 8.645.125a4.586 4.586 0 0 0-1.26-.117Zm.872 1.098c.235.05.547.159.752.26.176.086.52.304.566.358.016.02-.373.25-1.648.975-.918.522-1.705.98-1.748 1.02a.593.593 0 0 0-.122.16c-.042.089-.043.109-.053 2.394l-.01 2.304-.64-.363c-.353-.2-.666-.379-.696-.398l-.055-.035V5.833c0-1.222.008-2.01.021-2.116a3.08 3.08 0 0 1 .588-1.466 3.82 3.82 0 0 1 .664-.642c.353-.247.856-.456 1.234-.513.09-.013.177-.027.193-.031.088-.021.815.01.954.04Zm3.819 1.232c1.554.275 2.64 1.657 2.514 3.198a2.432 2.432 0 0 1-.03.265c-.005.009-.615-.332-1.354-.756-2.133-1.222-2.065-1.185-2.171-1.2a.593.593 0 0 0-.185.01c-.051.013-.938.505-2.067 1.147a142.354 142.354 0 0 1-2.012 1.134c-.034.008-.036-.036-.036-.771 0-.718.003-.782.035-.81.068-.057 3.305-1.885 3.507-1.98.236-.11.552-.207.812-.246.285-.044.712-.04.986.01ZM3.63 7.971a.558.558 0 0 0 .133.16c.044.033.96.56 2.034 1.17a115.76 115.76 0 0 1 1.953 1.122c0 .027-1.333.77-1.38.77-.045 0-3.031-1.683-3.421-1.928a3.04 3.04 0 0 1-1.333-1.937 3.356 3.356 0 0 1 0-1.165c.095-.422.223-.728.439-1.045.36-.53.832-.905 1.452-1.154l.05-.02.011 1.963.01 1.965.052.099Zm8.7-2.226c1.896 1.08 1.735.985 1.947 1.146a2.955 2.955 0 0 1 1.169 2.35c0 .513-.097.927-.328 1.383a3.15 3.15 0 0 1-1.05 1.149c-.134.084-.54.29-.577.29-.008 0-.018-.875-.02-1.946l-.006-1.946-.047-.092a.654.654 0 0 0-.111-.153c-.036-.034-.952-.568-2.035-1.187-1.083-.62-1.98-1.137-1.995-1.15-.02-.018.123-.107.65-.406.371-.212.69-.384.708-.385.018 0 .781.426 1.695.947Zm-2.921.76.857.485v2.02l-.864.49c-.475.27-.871.494-.88.497a20.71 20.71 0 0 1-.896-.494l-.881-.5V6.995l.873-.497c.496-.283.886-.493.903-.487.017.006.416.228.888.495Zm2.259 1.29c.318.181.613.351.655.378l.076.048v1.947c0 2.075-.003 2.143-.102 2.53-.475 1.861-2.613 2.811-4.34 1.928-.205-.105-.555-.34-.54-.362.004-.008.758-.44 1.676-.962 1.097-.623 1.698-.975 1.752-1.028.162-.157.153-.003.153-2.575v-2.28l.046.023.624.353Zm-1.4 2.845v.797l-1.66.942c-.913.518-1.733.978-1.822 1.022a3.405 3.405 0 0 1-.742.247c-.183.04-.267.047-.598.047-.29 0-.429-.01-.558-.036-.982-.202-1.779-.814-2.193-1.683a2.683 2.683 0 0 1-.278-1.163c-.01-.278.01-.574.041-.604.005-.005.748.412 1.65.925.904.514 1.674.95 1.713.97a.511.511 0 0 0 .341.04c.062-.014.803-.425 2.095-1.16 1.1-.626 2.002-1.14 2.005-1.14.003-.001.005.357.005.796Z" clip-rule="evenodd"></path></g><defs><clipPath id="OpenAI_svg__a"><path fill="#fff" d="M.5 0h16v16H.5z"></path></clipPath></defs></svg>';
    				break;
    		}
    
    		let ai = document.getElementById('ai-model');
    		ai.innerHTML = logo + model;
    
    	}
    
    </script>

    <script>
    
        function settingsModal(id){
          
            settings_form.reset(); 
            
            $('#logo_imgdiv').hide();
            
            $('#settingModal').attr('data-assistant-id', id);
            
            let formData = new FormData();
            
            formData.append("assistant_id", id);
            
             $.ajax({
                headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                method: 'post',
                url: "https://scholaraid.ai/app/user/custom-chat/assistant-settings/data",
                data: formData,
                processData: false,
                contentType: false,
                
                success: function(response) {
                  
                    if(response['status']=='success'){
        
                        $('#name-chat').val(response.data.chatBotName);
                        
                        $('#logo_imgdiv').show();
                        
                        
                        var imageUrl = "https://scholaraid.ai/" + response.data.chatlogo; 
                        
                        $('#chatLogoshow').attr('src', imageUrl);
                        
                         
                        $('#chatBotSubtitle').val(response.data.chatBotSubtitle);
                        $('#color-picker-input').val(response.data.colorCode);
                        
                        $('#inputPlaceHolder').val(response.data.inputPlaceHolder);
                        
                         $('#bubble-picker-input').val(response.data.bubbleColorCode);
                         
                        $('#welcomeMessage').val(response.data.welcomeMessage);
                        
                        $('#bubbleText').val(response.data.bubbleText);
                    }
                }
             });
            
            var myModal = new bootstrap.Modal(document.getElementById('settingModal'));
            myModal.show();
        }
    
    
        function promptModal(id) { 
          
            $('#assistantPromptModal').attr('data-assistant-id', id);
            
            $('#prompt_text').val(''); 
            
            $.ajax({
                headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') }, 
                method: 'get', 
                url: '/app/user/custom-chat/assistant/prompt',
                data: { assistant_id: id }, 
                success: function(response) {
                    
                    var data = response.data;
                    var faqs_data = response.faqs_data;
                    
                    
                    get_faqs(faqs_data);
 
                    $('#prompt_text').val(data);
                    
                }
            });

            var myModal = new bootstrap.Modal(document.getElementById('assistantPromptModal'));
            
            myModal.show();
        }

        
    
        function fileUploadModal(id) {
     
            
            $('.chat-pdf-sidebar').html('');

            $('#fileInput').attr('data-assistant-id', id);
            
            $('#web').attr('data-assistant-id', id);
            
            $('#text').attr('data-assistant-id', id);
               
            let formData = new FormData();
            
            formData.append("assistant_id", id);
            
            $.ajax({
                headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                method: 'post',
                url: "https://scholaraid.ai/app/user/custom-chat/file/get-file",
                data: formData,
                processData: false,
                contentType: false,
                
                success: function(response) {
  
                    data = response['data'];
                    file_history(data);
                    
                }
            })

            var myModal = new bootstrap.Modal(document.getElementById('uploadModal'));
            myModal.show();
            
        }
        
    </script>
  
    <script>
    
       
        var input_upload_file = document.getElementById("fileInput");

            input_upload_file.addEventListener('change', function(){
            
            let assistant_id = $(this).attr('data-assistant-id');

           
            var files = input_upload_file.files;

            
            var fileSize = files[0].size; 
            var fileName = files[0].name;
            var fileExtension = fileName.split('.').pop().toLowerCase();
            var fileSizeInMB = (fileSize / 4048) / 4048; 
            var fileSizeInKB = (fileSize/4048)/4048; 
            var pdf_fileLimit = 20; 

            console.log(fileSizeInMB);
            
            if (fileExtension === 'pdf') {
                if(fileSizeInMB < pdf_fileLimit){
                    checkBalance('analyze', 'none');
                    if (proceed_further) {
                        fileAnalyze(files, assistant_id);
                    }
                } else {   
                    toastr.warning('Selected PDF file is too big. Maximum allowed file size is ' + pdf_fileLimit + 'MB');
                }
    		} else if (fileExtension == 'csv') {
    			if(fileSizeInKB < csv_fileLimit){
    
    				checkBalance('analyze', 'none');
    
    				if (proceed_further) {
    					fileAnalyze(files,assistant_id);
    				}
    
    			} else {   
    				toastr.warning('Selected CSV file is too big. Maximum allowed file size is '+csv_fileLimit+'MB');
    			}
    		} else if (fileExtension == 'docx') {
    			if(fileSizeInKB < word_fileLimit){
    
    				checkBalance('analyze', 'none');
    
    				if (proceed_further) {
    					fileAnalyze(files,assistant_id);
    				}
    
    			} else {   
    				toastr.warning('Selected Word file is too big. Maximum allowed file size is '+word_fileLimit+'MB');
    			}
    		}else {
                toastr.warning('Please select a valid PDF file.');
            }
        });
        
    
            function fileAnalyze(files, assistant_id) {
             
            
                let formData = new FormData();
                
                formData.append('file', files[0]);
                formData.append('assistant_id', assistant_id);
    
                $.ajax({
                    headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                    method: 'post',
                    url: "https://scholaraid.ai/app/user/custom-chat/file/embedding",
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(data) {
                    
                        if (data['status'] == 'success') {
                            
        					toastr.success('Uploaded document has been analyzed');
        					
        					new_chat_id = data['id'];
        					
        					title = data['title'];
        					
                            $loader.hide();
    
                            data = data['data'];
                            
                            file_history(data);
    
        					createFileConversationBox(new_chat_id,title);				
        			
        					setTimeout(() => toastr.success('You can start your chat session now'), 2000);					
        				} 
        
        				if (data['status'] == 'error') {
        				    
        				    document.getElementById("fileInput").value = "";
        				    
        					toastr.error(data['message']);
        				}
                    },
                    error: function(error) {
                        msgerSendBtn.disabled = false;
                    }
                });
            }

    	    function createFileConversationBox(new_chat_id,title) {
    	        
    	   
        		var formData = new FormData();
        		
        		formData.append("chat_id", new_chat_id);
        		
        		$.ajax({
        			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        			method: 'post',
        			url: '/app/user/custom-chat/file/metainfo',
        			data: formData,
        			processData: false,
        			contentType: false,
        			success: function (data) {
        			    
        				if (data['status'] == 'success') {
        
        					let id = data['id'];
        					
        					let extension = title.split('.').pop().toLowerCase();
        					
                            let icon = '';
                            
                            if(extension=='pdf'){
                                icon =`<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" class="mr-2" viewBox="0 0 75.320129 92.604164">
                                    <g transform="translate(53.548057 -183.975276) scale(1.4843)">
                                        <path fill="#ff2116" d="M-29.632812 123.94727c-3.551967 0-6.44336 2.89347-6.44336 6.44531v49.49804c0 3.55185 2.891393 6.44532 6.44336 6.44532H8.2167969c3.5519661 0 6.4433591-2.89335 6.4433591-6.44532v-40.70117s.101353-1.19181-.416015-2.35156c-.484969-1.08711-1.275391-1.84375-1.275391-1.84375a1.0584391 1.0584391 0 0 0-.0059-.008l-9.3906254-9.21094a1.0584391 1.0584391 0 0 0-.015625-.0156s-.8017392-.76344-1.9902344-1.27344c-1.39939552-.6005-2.8417968-.53711-2.8417968-.53711l.021484-.002z" />
                                        <path fill="#f5f5f5" d="M-29.632812 126.06445h28.3789058a1.0584391 1.0584391 0 0 0 .021484 0s1.13480448.011 1.96484378.36719c.79889772.34282 1.36536982.86176 1.36914062.86524.0000125.00001.00391.004.00391.004l9.3671868 9.18945s.564354.59582.837891 1.20899c.220779.49491.234375 1.40039.234375 1.40039a1.0584391 1.0584391 0 0 0-.002.0449v40.74609c0 2.41592-1.910258 4.32813-4.3261717 4.32813H-29.632812c-2.415914 0-4.326172-1.91209-4.326172-4.32813v-49.49804c0-2.41603 1.910258-4.32813 4.326172-4.32813z" />
                                        <path fill="#ff2116" d="M-23.40766 161.09299c-1.45669-1.45669.11934-3.45839 4.39648-5.58397l2.69124-1.33743 1.04845-2.29399c.57665-1.26169 1.43729-3.32036 1.91254-4.5748l.8641-2.28082-.59546-1.68793c-.73217-2.07547-.99326-5.19438-.52872-6.31588.62923-1.51909 2.69029-1.36323 3.50626.26515.63727 1.27176.57212 3.57488-.18329 6.47946l-.6193 2.38125.5455.92604c.30003.50932 1.1764 1.71867 1.9475 2.68743l1.44924 1.80272 1.8033728-.23533c5.72900399-.74758 7.6912472.523 7.6912472 2.34476 0 2.29921-4.4984914 2.48899-8.2760865-.16423-.8499666-.59698-1.4336605-1.19001-1.4336605-1.19001s-2.3665326.48178-3.531704.79583c-1.202707.32417-1.80274.52719-3.564509 1.12186 0 0-.61814.89767-1.02094 1.55026-1.49858 2.4279-3.24833 4.43998-4.49793 5.1723-1.3991.81993-2.86584.87582-3.60433.13733zm2.28605-.81668c.81883-.50607 2.47616-2.46625 3.62341-4.28553l.46449-.73658-2.11497 1.06339c-3.26655 1.64239-4.76093 3.19033-3.98386 4.12664.43653.52598.95874.48237 2.01093-.16792zm21.21809-5.95578c.80089-.56097.68463-1.69142-.22082-2.1472-.70466-.35471-1.2726074-.42759-3.1031574-.40057-1.1249.0767-2.9337647.3034-3.2403347.37237 0 0 .993716.68678 1.434896.93922.58731.33544 2.0145161.95811 3.0565161 1.27706 1.02785.31461 1.6224.28144 2.0729-.0409zm-8.53152-3.54594c-.4847-.50952-1.30889-1.57296-1.83152-2.3632-.68353-.89643-1.02629-1.52887-1.02629-1.52887s-.4996 1.60694-.90948 2.57394l-1.27876 3.16076-.37075.71695s1.971043-.64627 2.97389-.90822c1.0621668-.27744 3.21787-.70134 3.21787-.70134zm-2.74938-11.02573c.12363-1.0375.1761-2.07346-.15724-2.59587-.9246-1.01077-2.04057-.16787-1.85154 2.23517.0636.8084.26443 2.19033.53292 3.04209l.48817 1.54863.34358-1.16638c.18897-.64151.47882-2.02015.64411-3.06364z"/>
                                        <path fill="#2c2c2c" d="M-20.930423 167.83862h2.364986q1.133514 0 1.840213.2169.706698.20991 1.189489.9446.482795.72769.482795 1.75625 0 .94459-.391832 1.6233-.391833.67871-1.056548.97958-.65772.30087-2.02913.30087h-.818651v3.72941h-1.581322zm1.581322 1.22447v3.33058h.783664q1.049552 0 1.44838-.39184.405826-.39183.405826-1.27345 0-.65772-.265887-1.06355-.265884-.41282-.587747-.50378-.314866-.098-1.000572-.098zm5.50664-1.22447h2.148082q1.560333 0 2.4909318.55276.9375993.55276 1.4133973 1.6443.482791 1.09153.482791 2.42096 0 1.3994-.4338151 2.49793-.4268149 1.09153-1.3154348 1.76324-.8816233.67172-2.5189212.67172h-2.267031zm1.581326 1.26645v7.018h.657715q1.378411 0 2.001144-.9516.6227329-.95858.6227329-2.5539 0-3.5125-2.6238769-3.5125zm6.4722254-1.26645h5.30372941v1.26645H-4.2075842v2.85478h2.9807225v1.26646h-2.9807225v4.16322h-1.5813254z" />
                                    </g>
                                </svg>`;
                            }else if (extension == 'csv') {
        						icon = '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"  class="mr-1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 303.188 303.188" width="20px" height="20px" xml:space="preserve"><g><polygon style="fill:#E4E4E4;" points="219.821,0 32.842,0 32.842,303.188 270.346,303.188 270.346,50.525 "/><polygon style="fill:#007934;" points="227.64,25.263 32.842,25.263 32.842,0 219.821,0 	"/><g><g><path style="fill:#A4A9AD;" d="M114.872,227.984c-2.982,0-5.311,1.223-6.982,3.666c-1.671,2.444-2.507,5.814-2.507,10.109c0,8.929,3.396,13.393,10.188,13.393c2.052,0,4.041-0.285,5.967-0.856c1.925-0.571,3.86-1.259,5.808-2.063v10.601c-3.872,1.713-8.252,2.57-13.14,2.57c-7.004,0-12.373-2.031-16.107-6.094c-3.734-4.062-5.602-9.934-5.602-17.615c0-4.803,0.904-9.023,2.714-12.663c1.809-3.64,4.411-6.438,7.808-8.395c3.396-1.957,7.39-2.937,11.98-2.937c5.016,0,9.808,1.09,14.378,3.27l-3.841,9.871c-1.713-0.805-3.428-1.481-5.141-2.031C118.681,228.26,116.841,227.984,114.872,227.984z"/><path style="fill:#A4A9AD;" d="M166.732,250.678c0,2.878-0.729,5.433-2.191,7.665c-1.459,2.232-3.565,3.967-6.315,5.205c-2.751,1.237-5.977,1.856-9.681,1.856c-3.089,0-5.681-0.217-7.775-0.65c-2.095-0.434-4.274-1.191-6.538-2.27v-11.172c2.391,1.227,4.877,2.186,7.458,2.872c2.582,0.689,4.951,1.032,7.109,1.032c1.862,0,3.227-0.322,4.095-0.969c0.867-0.645,1.302-1.476,1.302-2.491c0-0.635-0.175-1.19-0.524-1.666c-0.349-0.477-0.91-0.958-1.682-1.444c-0.772-0.486-2.83-1.48-6.173-2.983c-3.026-1.375-5.296-2.708-6.809-3.999s-2.634-2.771-3.364-4.443s-1.095-3.65-1.095-5.936c0-4.273,1.555-7.605,4.666-9.997c3.109-2.391,7.384-3.587,12.822-3.587c4.803,0,9.7,1.111,14.694,3.333l-3.841,9.681c-4.337-1.989-8.082-2.984-11.234-2.984c-1.63,0-2.814,0.286-3.555,0.857s-1.111,1.28-1.111,2.127c0,0.91,0.471,1.725,1.412,2.443c0.941,0.72,3.496,2.031,7.665,3.936c3.999,1.799,6.776,3.729,8.331,5.792C165.955,244.949,166.732,247.547,166.732,250.678z"/><path style="fill:#A4A9AD;" d="M199.964,218.368h14.027l-15.202,46.401H184.03l-15.139-46.401h14.092l6.316,23.519c1.312,5.227,2.031,8.865,2.158,10.918c0.148-1.481,0.443-3.333,0.889-5.555c0.443-2.222,0.835-3.967,1.174-5.236L199.964,218.368z"/></g></g><polygon style="fill:#D1D3D3;" points="219.821,50.525 270.346,50.525 219.821,0 	"/><g><rect x="134.957" y="80.344" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="80.344" style="fill:#007934;" width="33.273" height="15.418"/><rect x="134.957" y="102.661" style="fill:#007934;" width="33.274" height="15.419"/><rect x="175.602" y="102.661" style="fill:#007934;" width="33.273" height="15.419"/><rect x="134.957" y="124.979" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="124.979" style="fill:#007934;" width="33.273" height="15.418"/><rect x="94.312" y="124.979" style="fill:#007934;" width="33.273" height="15.418"/><rect x="134.957" y="147.298" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="147.298" style="fill:#007934;" width="33.273" height="15.418"/><rect x="94.312" y="147.298" style="fill:#007934;" width="33.273" height="15.418"/><g><path style="fill:#007934;" d="M127.088,116.162h-10.04l-6.262-10.041l-6.196,10.041h-9.821l10.656-16.435L95.406,84.04h9.624l5.8,9.932l5.581-9.932h9.909l-10.173,16.369L127.088,116.162z"/></g></g></g></svg>';
        					}
        
        					
        					$('.chat-pdf-sidebar').prepend(`<div class="card border-1 col-md-12 mb-1" id=${id}>
                                                                <div class="card-body d-inline-flex align-items-center">
                                                                    ${icon}
                                                                    <p class="mb-0 fs-12 font-weight-bold mt-0 mr-auto">${title}</p>
                                                                    
                                                                    <p class="mb-0 fs-11 font-weight-bold mt-1"><span class="mr-2 cell-box user-active">Trained</span></p>
                                                                    <a href="javascript:void(0)" class="chat-pdf-delete" data-url="${title}">
                                                                        <i class="fa-solid fa-trash fs-13 float-right text-danger"></i>
                                                                    </a>
                                                                </div>
                                                			</div>`);
        
        	
            				    }  
            			},
            			error: function(data) {
            				Swal.fire('Update Error', data.responseJSON['error'], 'error');
            			}
            		})
            	}
            	
    
    
                function checkBalance(action, param) {
                    proceed_further = true;
                }
                
                let analyzeBtn = $('#url-process-button');
                let websiteLink = $('#url-link');
                
                let linkid = $('.chat-web-sidebar');  
                
                const scrapeLinks = async () => {
                    
                if (!websiteLink.val()) {
        			toastr.warning('Enter a valid website url link before analyzing');
        			return;
        		}	
        		
        		if (!isUrl(websiteLink.val())) {
        			toastr.warning('Invalid URL format, make sure to provide valid URL link');
        			return;
        		}
                
                
                if (websiteLink.val().length === 0) {
                    return alert('Please write a website link.');
                }
            
                try {
                    analyzeBtn.text('Scrapping...');
                    analyzeBtn.prop('disabled', true);
          
                    const response = await fetch('/app/user/custom-chat/scrape?url=' + encodeURIComponent(websiteLink.val()));
                    
                    console.log(response);
            
                    if (!response.ok) {
                        throw new Error('Failed to fetch data');
                    }
            
                    const data = await response.json();
     
                    
                    websiteLink.val('');
                    
                    linkid.html('');
            
                    data.links.forEach((x) => {
                        
                        linkid.append(`<div class="web_link_div card border-1 col-md-12 mb-1">
                                           <div class="d-inline-flex py-2 align-items-center">
                                               <input type="checkbox" class="form-check-input weblinks"  value="${x}" name="webLinks[]">
                                                <a href="${x}" class="mb-0 fs-10 mt-1  ml-1 mr-auto" target="_blank">${x.substring(0, 45) + '...'}</a>
                                                <p class="mb-0 fs-11 font-weight-bold mt-1"> <span class="mr-2 cell-box user-active text-dark" style="background:rgb(231 13 13 / 19%)">waiting</span></p>
                                                
                                                <a href="javascript:void(0)" class="chat-web-delete" id="e4a61d9b-5e6d-47e8-b417-7157fa7f0668" data-url="https://ai.3dgearguide.com/storage/2hEU2gy3sy.pdf">
                                                    <i class="fa-solid fa-trash fs-15 float-right text-danger"></i>
                                                </a>
                                            </div>
                                        </div>`);
                                        
                    });
                    
                    $('.webProcessDiv').show();
                        
            
                    $('html, body').animate({
                        scrollTop: linkid.offset().top
                    }, 'smooth');
            
                } catch (error) {
                    alert(error.message);
                } finally {
                    analyzeBtn.text('Scrape');
                    analyzeBtn.prop('disabled', false);
                }
            };
            
            analyzeBtn.on('click', scrapeLinks);
          
            function deleteItem(element) {
                $(element).closest('li').remove();
            }
            
    
            $('#webProcessBtn').click(function() {
        		if (proceed_further) {
        			handleWebLinks();
        		}
        	});
    
            
            //new
            
            const progress = document.getElementById("progress-text");
            const processBtn = document.getElementById("webProcessBtn");
            
            async function analyze(url) {
                
                msgerSendBtn.disabled = true;
                
                var assistant_id = $('#web').attr('data-assistant-id');
                
                let formData = new FormData();
                
                formData.append('url', url);
                formData.append('chat_id', chat_code);
                formData.append('assistant_id', assistant_id);
         
                progress.style.paddingBottom = "8px";
                
                progress.innerHTML = loading_dark;
                
                $('#dynamic-inputs').html('');
                $('#image-drop-box').addClass('hidden');
                $('#progress-drop-box').removeClass('hidden');
                $('#intro-drop-box').addClass('block-display');
    
                processBtn.innerHTML = loading;
                
                let new_chat_id = '';
            
                try {
                    let data = await $.ajax({
                        headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                        method: 'post',
                        url: '/app/user/custom-chat/web/embedding',
                        data: formData,
                        processData: false,
                        contentType: false
                    });
                    return data;
                } catch (error) {
                    console.error('Error during analyze:', error);
                    throw error;
                }
            }
            
            // Function to handle the checked web links
            
            async function handleWebLinks() {
                
                var webLinks = $('input[name="webLinks[]"]:checked');
    
                for (let i = 0; i < webLinks.length; i++) {
                    
                    let webLink = $(webLinks[i]);
                    
                    let data = await analyze(webLink.val());
          
                    if (data['status'] !== 'success') {
                        break;
                    }
                    
                    webLink.closest('.web_link_div').remove();
    
                    let web_data = data['data'];
       
                    web_history(web_data);
                    
                    toastr.success('Web URL has been analyzed');
                }
    
          // $('.webProcessDiv').hide();
      
                $('#progress-drop-box').addClass('hidden');
                $('#intro-drop-box').removeClass('block-display');
                
                start_chat = true;		
                msgerSendBtn.disabled = false;
                processBtn.innerHTML = 'Scrape data';
                setTimeout(() => toastr.success('You can start your chat session now'), 2000);
                
            }
            
    
            $('#deleteAll').click(function() {
                $('.card.border-0.col-md-12.mb-1').remove();
            });
            
            
            $('#fileDeleteAll').click(function(e){
                
                e.preventDefault();
                
                var ids = [];
    
                $('input[name="file_ids[]"]:checked').each(function() {
                    ids.push($(this).val());
                });
    
        		Swal.fire({
        			title: 'Confirm file Deletion',
        			text: 'It will permanently delete this chat pdf',
        			icon: 'warning',
        			showCancelButton: true,
        			confirmButtonText: 'Delete',
        			reverseButtons: true,
        		}).then((result) => {
        		    
        			if (result.isConfirmed) {
        			    
        				var formData = new FormData();
        				
        				formData.append("file_id", ids);
        				
        				formData.append("assistant_id", $('#fileInput').attr('data-assistant-id'));
        				
        				$.ajax({
        					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        					method: 'post',
        					url: '/app/user/custom-chat/file-delete',
        					data: formData,
        					processData: false,
        					contentType: false,
        					success: function (data) {
        					  
        						if (data['status'] == 'success') {
        						  
        						    data = data['data'];
        						    
                                    file_history(data);
        						    
        							toastr.success('Chat history has been successfully deleted');
        
        							$("#" + active_id).remove();	
        							$('#dynamic-inputs').html('');	
        							$(".chat-sidebar-message").first().focus().trigger('click');
        							let check_messages = document.querySelectorAll('.chat-sidebar-message').length;
        
        							if (check_messages == 0) {
        							
        								$('#dynamic-inputs').html('');
        								$('#image-drop-box').removeClass('hidden');
        								$('#progress-drop-box').addClass('hidden');
        								$('#intro-drop-box').addClass('hidden');
        							}						
        						} else if (data['status'] == 'empty') { 
        							$('#dynamic-inputs').html('');	
        								
        						}else {
        							toastr.warning('There was an issue while deleting chat conversation');
        						}      
        					},
        					error: function(data) {
        						Swal.fire('Oops...','Something went wrong!', 'error')
        					}
        				})
        			} 
        		})
    
            });
        
    
            // Event listener for chat-pdf-delete click
        
            $(document).on('click', '.chat-web-delete', function() {
                $(this).closest('.web_link_div.card.border-1.col-md-12.mb-1').remove();
            });
    
        
            
            $(document).on('click', '#scrapDeleteAll', function() {
                $('.weblinks:checked').closest('.web_link_div.card.border-1.col-md-12.mb-1').remove();
            });
    
    
        
            $('#add-prompt-button').click(function() {
    
                var assistant_id = $('#assistantPromptModal').attr('data-assistant-id');
      
                var promptText = $('#prompt_text').val();
   
                let formData = new FormData();
                
                formData.append('assistant_id', assistant_id);
                formData.append('prompt_text', promptText);
                
                $(this).prop('disabled', true);
                
    	        $(this).html(loading);
    	        
                var myModal = new bootstrap.Modal(document.getElementById('assistantPromptModal'));
                
                $.ajax({
                    headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                    method: 'post',
                    url: '/app/user/custom-chat/assistant/prompt-add',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(data) {
                        myModal.hide();
                        if (data['status'] == 'success') {
                            $('#add-prompt-button').prop('disabled', false);
        					toastr.success('Prompt add successfully');
        					$('#add-prompt-button').html('Add');
        				} 
        
        				if (data['status'] == 'error') {
        					toastr.error(data['message']);
        				    $('#add-prompt-button').html('Add');
        				    $('#add-prompt-button').prop('disabled', false);
        				}
                       
                    },
                    error: function(error) {
            
                        msgerSendBtn.disabled = false;
                    }
                });
            });
    
            
            $('#add-text-button').click(function() {
    
                var assistant_id = $('#text').attr('data-assistant-id');
                
                var title = $('#title').val();
        
                var chatText = $('#chat_text').val();
    
                let formData = new FormData();
          
                formData.append('assistant_id', assistant_id);
    
                formData.append('title', title);
                
                formData.append('chat_text', chatText);
                
                $(this).prop('disabled', true);
                
    	        $(this).html(loading);
           
                $.ajax({
                    headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                    method: 'post',
                    url: '/app/user/custom-chat/text/embedding',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(data) {
                    
                        if (data['status'] == 'success') {
                            
                            $('#chat_text').val('');
                            
                            let text_data = data['data'];
                            
                            text_history(text_data);
                            
                            $('#add-text-button').prop('disabled', false);
        					toastr.success('Uploaded document has been analyzed');
        					$('#add-text-button').html('Add Text');
        				
        					 
        					setTimeout(() => toastr.success('You can start your chat session now'), 2000);					
        				} 
        
        				if (data['status'] == 'error') {
        				    
        					toastr.error(data['message']);
        				    $('#add-text-button').html('Add Text');
        				    $('#add-text-button').prop('disabled', false);
        				}
      
                       
                    },
                    error: function(error) {
            
                        msgerSendBtn.disabled = false;
                    }
                });
            });
            
            
        
            
            $('#text-tab').on('click', function() {
                
                var assistant_id = $('#text').attr('data-assistant-id');
           
                let formData = new FormData();
        		
        		formData.append('assistant_id', assistant_id);
        
        		$.ajax({
        		    
        			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        			method: 'post',
        			url: '/app/user/custom-chat/text/history',
        			data: formData,
        			processData: false,
        			contentType: false,
        			
        			success: function (response) {
        			    
        			    
        			    if (response['status']=='success') {
        			        
                            data = response['data'];
                            text_history(data);
                            
            			}
        			}
    			});
            });

        
    
            $('#web-tab').on('click', function() {
                
                var assistant_id = $('#web').attr('data-assistant-id');
           
                let formData = new FormData();
        		
        		formData.append('assistant_id', assistant_id);
        
        		$.ajax({
        		    
        			headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        			method: 'post',
        			url: '/app/user/custom-chat/web/history',
        			data: formData,
        			processData: false,
        			contentType: false,
        			
        			success: function (response) {
        			    
        			    
        			    if (response['status']=='success') {
        			        
                            data = response['data'];
                          
                            web_history(data);
                            
        			    }
    			    }
    			});
            });


            function web_history(data){

                $('.scrap_div').removeClass('d-none').show();

                var urls = $('.showUrls');
                
                var rows = ''; 

                data.forEach(function(key,value) {
            
                rows += `
    			        <div class="card border-1 col-md-12 my-2">
                            <div class="card-body d-inline-flex align-items-center">
                                <input type="checkbox" class="form-check-input mr-1" value="${key.id}" name="web_ids[]" id="webs">
                                
                                <a href="${key.url}" class="mb-0 fs-12 font-weight-bold mt-1 mr-auto"> ${key.title.substring(0, 35) + '...'}</a>
                                <p class="mb-0 fs-11 font-weight-bold mt-1"><span class="mr-2 cell-box user-active">Trained</span></p>
                                <a href="javascript:void(0)" class="deleteWeb" id="${key.id}" data-url="${key.url}"><i class="fa-solid fa-trash fs-12 float-right text-danger"></i></a>
                            </div>
                        </div>`;
                    });
                urls.html(rows);
            }
            

            $('#selectAll').click(function(){
                $('input[name="webLinks[]"]').prop('checked', this.checked);
            });
  
            $('#fileSelectAll').click(function(){
         
                if (this.checked) {
                    $('.file_delete_div').removeClass('d-none').show();
                } else {
                    $('.file_delete_div').addClass('d-none').hide();
                }
                
                $('input[name="file_ids[]"]').prop('checked', this.checked);
                
            });
  
            $('#scrapSelectAll').click(function(){
                
                if (this.checked) {
                    $('.scrap_delete_div').removeClass('d-none').show();
                } else {
                    $('.scrap_delete_div').addClass('d-none').hide();
                }
                
                $('input[name="webLinks[]"]').prop('checked', this.checked);
                
            });
            
            $('#webSelectAll').click(function(){
                
                if (this.checked) {
                    $('.web_delete_div').removeClass('d-none').show();
                } else {
                    $('.web_delete_div').addClass('d-none').hide();
                }
                
                $('input[name="web_ids[]"]').prop('checked', this.checked);
            });
            
            $('#textSelectAll').click(function(){
                
                if (this.checked) {
                    $('.text_delete_div').removeClass('d-none').show();
                } else {
                    $('.text_delete_div').addClass('d-none').hide();
                }
                
                $('input[name="text_ids[]"]').prop('checked', this.checked);
            });
            
        
            $('.weblinks').on('click', function() {
                
                var checkedCount = $('.weblinks:checked').length; 
                console.log('Checked count:', checkedCount);
                
                if (checkedCount > 1) {
                    $('#scrap_delete_div').show();
                } else {
                    $('#scrap_delete_div').hide();
                }
            });
        
                   
            $('#webDeleteAll').click(function(e){
                
                e.preventDefault();
                
                var ids = [];
    
                $('input[name="web_ids[]"]:checked').each(function() {
                    ids.push($(this).val());
                });
                
                
                var assistant_id = $('#web').attr('data-assistant-id');
              
            
        		Swal.fire({
        			title: 'Confirm web Deletion',
        			text: 'It will permanently delete this chat history',
        			icon: 'warning',
        			showCancelButton: true,
        			confirmButtonText: 'Delete',
        			reverseButtons: true,
        		}).then((result) => {
        			if (result.isConfirmed) {
        				var formData = new FormData();
        				
        				formData.append("assistant_id", assistant_id);
        				
        				formData.append("web_ids", ids);
        				
        				$.ajax({
        					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        					method: 'post',
        					url: '/app/user/custom-chat/web-delete',
        					data: formData,
        					processData: false,
        					contentType: false,
        					success: function (data) {
        						
        						if (data['status'] == 'success') {
        						    
        						    let web_data = data['data'];
        						    
                                    
                                    web_history(web_data);
        						    
        							toastr.success('Chat history has been successfully deleted');
        						
        						} else if (data['status'] == 'empty') { 
        							$('#dynamic-inputs').html('');	
        								
        						}else {
        							toastr.warning('There was an issue while deleting chat conversation');
        						}      
        					},
        					error: function(data) {
        						Swal.fire('Oops...','Something went wrong!', 'error')
        					}
        				})
        			} 
        		})
            });
    
        	$(document).on('click', '.deleteWeb', function(e) {
        
        		e.preventDefault();
        		
                var assistant_id = $('#web').attr('data-assistant-id');
        
        		Swal.fire({
        			title: 'Confirm web Deletion',
        			text: 'It will permanently delete this chat history',
        			icon: 'warning',
        			showCancelButton: true,
        			confirmButtonText: 'Delete',
        			reverseButtons: true,
        		}).then((result) => {
        			if (result.isConfirmed) {
        				var formData = new FormData();
        				
        				formData.append("assistant_id", assistant_id);
        				
        				formData.append("web_ids", $(this).attr('id'));
        				
        				$.ajax({
        					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        					method: 'post',
        					url: '/app/user/custom-chat/web-delete',
        					data: formData,
        					processData: false,
        					contentType: false,
        					success: function (data) {
        						
        						if (data['status'] == 'success') {
        						    
        						    let web_data = data['data'];
        					
                                    
                                    web_history(web_data);
        						    
        							toastr.success('Chat history has been successfully deleted');
        
        							$("#" + active_id).remove();	
        							$('#dynamic-inputs').html('');	
        							$(".chat-sidebar-message").first().focus().trigger('click');
        							let check_messages = document.querySelectorAll('.chat-sidebar-message').length;
        
        							if (check_messages == 0) {
        							
        								$('#dynamic-inputs').html('');
        								$('#image-drop-box').removeClass('hidden');
        								$('#progress-drop-box').addClass('hidden');
        								$('#intro-drop-box').addClass('hidden');
        							}						
        						} else if (data['status'] == 'empty') { 
        							$('#dynamic-inputs').html('');	
        								
        						}else {
        							toastr.warning('There was an issue while deleting chat conversation');
        						}      
        					},
        					error: function(data) {
        						Swal.fire('Oops...','Something went wrong!', 'error')
        					}
        				})
        			} 
        		})
        		
        	});
        	
        	
        		
        	$(document).on('click', '.deleteText', function(e) {
        
        		e.preventDefault();
        		
                var assistant_id = $('#text').attr('data-assistant-id');
       
        
        		Swal.fire({
        			title: 'Confirm web Deletion',
        			text: 'It will permanently delete this chat history',
        			icon: 'warning',
        			showCancelButton: true,
        			confirmButtonText: 'Delete',
        			reverseButtons: true,
        		}).then((result) => {
        			if (result.isConfirmed) {
        				var formData = new FormData();
        				
        				formData.append("assistant_id", assistant_id);
        				
        				formData.append("text_ids", $(this).attr('id'));
        				
        				$.ajax({
        					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        					method: 'post',
        					url: '/app/user/custom-chat/text-delete',
        					data: formData,
        					processData: false,
        					contentType: false,
        					success: function (data) {
        						
        						if (data['status'] == 'success') {
        						    
        							toastr.success('Chat history has been successfully deleted');
        							
        							let text_data = data['data'];
        							
                                    text_history(text_data);
                                    
                                    
        						} else if (data['status'] == 'empty') { 
        							$('#dynamic-inputs').html('');	
        								
        						}else {
        							toastr.warning('There was an issue while deleting chat conversation');
        						}      
        					},
        					error: function(data) {
        						Swal.fire('Oops...','Something went wrong!', 'error')
        					}
        				})
        			} 
        		})
        	});
        	
        	
        	$(document).on('click', '.textDeleteAll', function(e) {
    
        		e.preventDefault();
        		
                var assistant_id = $('#text').attr('data-assistant-id');
                
                var ids = [];
    
                $('input[name="text_ids[]"]:checked').each(function() {
                    ids.push($(this).val());
                });
 
        		Swal.fire({
        			title: 'Confirm web Deletion',
        			text: 'It will permanently delete this chat history',
        			icon: 'warning',
        			showCancelButton: true,
        			confirmButtonText: 'Delete',
        			reverseButtons: true,
        		}).then((result) => {
        			if (result.isConfirmed) {
        				var formData = new FormData();
        				
        				formData.append("assistant_id", assistant_id);
        				
        				formData.append("text_ids", ids);
        				
        				$.ajax({
        					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        					method: 'post',
        					url: '/app/user/cutom-chat/text-delete',
        					data: formData,
        					processData: false,
        					contentType: false,
        					success: function (data) {
        						
        						if (data['status'] == 'success') {
        						    	
        							let text_data = data['data'];
        						
                                    text_history(text_data);
        						    
        							toastr.success('Chat history has been successfully deleted');
        						
        						} else if (data['status'] == 'empty') { 
        							$('#dynamic-inputs').html('');	
        								
        						}else {
        							toastr.warning('There was an issue while deleting chat conversation');
        						}      
        					},
        					error: function(data) {
        						Swal.fire('Oops...','Something went wrong!', 'error')
        					}
        				})
        			} 
        		})
        	});
    
        </script>
        
        
        <script>
        
            function text_history(data){
                
                var urls = $('.showTexts');
                
                var rows = ''; 
                
                data.forEach(function(key,value) {
 
                    rows += `
        			        <div class="card border-1 col-md-12 my-2">
                                <div class="card-body d-inline-flex align-items-center">
                                    <input type="checkbox" class="form-check-input mr-1" value="${key.id}" name="text_ids[]" id="text">
                                    
                                    <a href="javascript:void(0)" class="mb-0 fs-12 font-weight-bold mt-1 mr-auto">${key.title}</a>
                                    <p class="mb-0 fs-11 font-weight-bold mt-1"><span class="mr-2 cell-box user-active">Trained</span></p>
                                    <a href="javascript:void(0)" class="deleteText" id="${key.id}"><i class="fa-solid fa-trash fs-12 float-right text-danger"></i></a>
                                </div>
                            </div>`;
    		        
                        });
                    
                    urls.html(rows);
            }
            
            function file_history(data) {
      
                $('.chat-pdf-sidebar').empty();
                  
                data.forEach(function(key,value) {
                    
                let extension = key.title.split('.').pop().toLowerCase();
				
                let icon = '';
                    
                    if(extension=='pdf'){
                        icon =`<svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" class="mr-2" viewBox="0 0 75.320129 92.604164">
                            <g transform="translate(53.548057 -183.975276) scale(1.4843)">
                                <path fill="#ff2116" d="M-29.632812 123.94727c-3.551967 0-6.44336 2.89347-6.44336 6.44531v49.49804c0 3.55185 2.891393 6.44532 6.44336 6.44532H8.2167969c3.5519661 0 6.4433591-2.89335 6.4433591-6.44532v-40.70117s.101353-1.19181-.416015-2.35156c-.484969-1.08711-1.275391-1.84375-1.275391-1.84375a1.0584391 1.0584391 0 0 0-.0059-.008l-9.3906254-9.21094a1.0584391 1.0584391 0 0 0-.015625-.0156s-.8017392-.76344-1.9902344-1.27344c-1.39939552-.6005-2.8417968-.53711-2.8417968-.53711l.021484-.002z" />
                                <path fill="#f5f5f5" d="M-29.632812 126.06445h28.3789058a1.0584391 1.0584391 0 0 0 .021484 0s1.13480448.011 1.96484378.36719c.79889772.34282 1.36536982.86176 1.36914062.86524.0000125.00001.00391.004.00391.004l9.3671868 9.18945s.564354.59582.837891 1.20899c.220779.49491.234375 1.40039.234375 1.40039a1.0584391 1.0584391 0 0 0-.002.0449v40.74609c0 2.41592-1.910258 4.32813-4.3261717 4.32813H-29.632812c-2.415914 0-4.326172-1.91209-4.326172-4.32813v-49.49804c0-2.41603 1.910258-4.32813 4.326172-4.32813z" />
                                <path fill="#ff2116" d="M-23.40766 161.09299c-1.45669-1.45669.11934-3.45839 4.39648-5.58397l2.69124-1.33743 1.04845-2.29399c.57665-1.26169 1.43729-3.32036 1.91254-4.5748l.8641-2.28082-.59546-1.68793c-.73217-2.07547-.99326-5.19438-.52872-6.31588.62923-1.51909 2.69029-1.36323 3.50626.26515.63727 1.27176.57212 3.57488-.18329 6.47946l-.6193 2.38125.5455.92604c.30003.50932 1.1764 1.71867 1.9475 2.68743l1.44924 1.80272 1.8033728-.23533c5.72900399-.74758 7.6912472.523 7.6912472 2.34476 0 2.29921-4.4984914 2.48899-8.2760865-.16423-.8499666-.59698-1.4336605-1.19001-1.4336605-1.19001s-2.3665326.48178-3.531704.79583c-1.202707.32417-1.80274.52719-3.564509 1.12186 0 0-.61814.89767-1.02094 1.55026-1.49858 2.4279-3.24833 4.43998-4.49793 5.1723-1.3991.81993-2.86584.87582-3.60433.13733zm2.28605-.81668c.81883-.50607 2.47616-2.46625 3.62341-4.28553l.46449-.73658-2.11497 1.06339c-3.26655 1.64239-4.76093 3.19033-3.98386 4.12664.43653.52598.95874.48237 2.01093-.16792zm21.21809-5.95578c.80089-.56097.68463-1.69142-.22082-2.1472-.70466-.35471-1.2726074-.42759-3.1031574-.40057-1.1249.0767-2.9337647.3034-3.2403347.37237 0 0 .993716.68678 1.434896.93922.58731.33544 2.0145161.95811 3.0565161 1.27706 1.02785.31461 1.6224.28144 2.0729-.0409zm-8.53152-3.54594c-.4847-.50952-1.30889-1.57296-1.83152-2.3632-.68353-.89643-1.02629-1.52887-1.02629-1.52887s-.4996 1.60694-.90948 2.57394l-1.27876 3.16076-.37075.71695s1.971043-.64627 2.97389-.90822c1.0621668-.27744 3.21787-.70134 3.21787-.70134zm-2.74938-11.02573c.12363-1.0375.1761-2.07346-.15724-2.59587-.9246-1.01077-2.04057-.16787-1.85154 2.23517.0636.8084.26443 2.19033.53292 3.04209l.48817 1.54863.34358-1.16638c.18897-.64151.47882-2.02015.64411-3.06364z"/>
                                <path fill="#2c2c2c" d="M-20.930423 167.83862h2.364986q1.133514 0 1.840213.2169.706698.20991 1.189489.9446.482795.72769.482795 1.75625 0 .94459-.391832 1.6233-.391833.67871-1.056548.97958-.65772.30087-2.02913.30087h-.818651v3.72941h-1.581322zm1.581322 1.22447v3.33058h.783664q1.049552 0 1.44838-.39184.405826-.39183.405826-1.27345 0-.65772-.265887-1.06355-.265884-.41282-.587747-.50378-.314866-.098-1.000572-.098zm5.50664-1.22447h2.148082q1.560333 0 2.4909318.55276.9375993.55276 1.4133973 1.6443.482791 1.09153.482791 2.42096 0 1.3994-.4338151 2.49793-.4268149 1.09153-1.3154348 1.76324-.8816233.67172-2.5189212.67172h-2.267031zm1.581326 1.26645v7.018h.657715q1.378411 0 2.001144-.9516.6227329-.95858.6227329-2.5539 0-3.5125-2.6238769-3.5125zm6.4722254-1.26645h5.30372941v1.26645H-4.2075842v2.85478h2.9807225v1.26646h-2.9807225v4.16322h-1.5813254z" />
                            </g>
                        </svg>`;
                    }else if (extension == 'csv') {
						icon = '<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"  class="mr-1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 303.188 303.188" width="20px" height="20px" xml:space="preserve"><g><polygon style="fill:#E4E4E4;" points="219.821,0 32.842,0 32.842,303.188 270.346,303.188 270.346,50.525 "/><polygon style="fill:#007934;" points="227.64,25.263 32.842,25.263 32.842,0 219.821,0 	"/><g><g><path style="fill:#A4A9AD;" d="M114.872,227.984c-2.982,0-5.311,1.223-6.982,3.666c-1.671,2.444-2.507,5.814-2.507,10.109c0,8.929,3.396,13.393,10.188,13.393c2.052,0,4.041-0.285,5.967-0.856c1.925-0.571,3.86-1.259,5.808-2.063v10.601c-3.872,1.713-8.252,2.57-13.14,2.57c-7.004,0-12.373-2.031-16.107-6.094c-3.734-4.062-5.602-9.934-5.602-17.615c0-4.803,0.904-9.023,2.714-12.663c1.809-3.64,4.411-6.438,7.808-8.395c3.396-1.957,7.39-2.937,11.98-2.937c5.016,0,9.808,1.09,14.378,3.27l-3.841,9.871c-1.713-0.805-3.428-1.481-5.141-2.031C118.681,228.26,116.841,227.984,114.872,227.984z"/><path style="fill:#A4A9AD;" d="M166.732,250.678c0,2.878-0.729,5.433-2.191,7.665c-1.459,2.232-3.565,3.967-6.315,5.205c-2.751,1.237-5.977,1.856-9.681,1.856c-3.089,0-5.681-0.217-7.775-0.65c-2.095-0.434-4.274-1.191-6.538-2.27v-11.172c2.391,1.227,4.877,2.186,7.458,2.872c2.582,0.689,4.951,1.032,7.109,1.032c1.862,0,3.227-0.322,4.095-0.969c0.867-0.645,1.302-1.476,1.302-2.491c0-0.635-0.175-1.19-0.524-1.666c-0.349-0.477-0.91-0.958-1.682-1.444c-0.772-0.486-2.83-1.48-6.173-2.983c-3.026-1.375-5.296-2.708-6.809-3.999s-2.634-2.771-3.364-4.443s-1.095-3.65-1.095-5.936c0-4.273,1.555-7.605,4.666-9.997c3.109-2.391,7.384-3.587,12.822-3.587c4.803,0,9.7,1.111,14.694,3.333l-3.841,9.681c-4.337-1.989-8.082-2.984-11.234-2.984c-1.63,0-2.814,0.286-3.555,0.857s-1.111,1.28-1.111,2.127c0,0.91,0.471,1.725,1.412,2.443c0.941,0.72,3.496,2.031,7.665,3.936c3.999,1.799,6.776,3.729,8.331,5.792C165.955,244.949,166.732,247.547,166.732,250.678z"/><path style="fill:#A4A9AD;" d="M199.964,218.368h14.027l-15.202,46.401H184.03l-15.139-46.401h14.092l6.316,23.519c1.312,5.227,2.031,8.865,2.158,10.918c0.148-1.481,0.443-3.333,0.889-5.555c0.443-2.222,0.835-3.967,1.174-5.236L199.964,218.368z"/></g></g><polygon style="fill:#D1D3D3;" points="219.821,50.525 270.346,50.525 219.821,0 	"/><g><rect x="134.957" y="80.344" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="80.344" style="fill:#007934;" width="33.273" height="15.418"/><rect x="134.957" y="102.661" style="fill:#007934;" width="33.274" height="15.419"/><rect x="175.602" y="102.661" style="fill:#007934;" width="33.273" height="15.419"/><rect x="134.957" y="124.979" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="124.979" style="fill:#007934;" width="33.273" height="15.418"/><rect x="94.312" y="124.979" style="fill:#007934;" width="33.273" height="15.418"/><rect x="134.957" y="147.298" style="fill:#007934;" width="33.274" height="15.418"/><rect x="175.602" y="147.298" style="fill:#007934;" width="33.273" height="15.418"/><rect x="94.312" y="147.298" style="fill:#007934;" width="33.273" height="15.418"/><g><path style="fill:#007934;" d="M127.088,116.162h-10.04l-6.262-10.041l-6.196,10.041h-9.821l10.656-16.435L95.406,84.04h9.624l5.8,9.932l5.581-9.932h9.909l-10.173,16.369L127.088,116.162z"/></g></g></g></svg>';
					}

                    
                    $('.chat-pdf-sidebar').append(`
                    
                        <div class="card border-1 col-md-12 my-2">
                            <div class="card-body d-inline-flex align-items-center">
                                <input type="checkbox" class="form-check-input mr-1" value="${key.id}" name="file_ids[]" id="filePdf">
                                ${icon}
                                <p class="mb-0 fs-12 font-weight-bold mt-0 mr-auto">${key.title}</p>
                                <p class="mb-0 fs-11 font-weight-bold mt-1"><span class="mr-2 cell-box user-active">Trained</span></p>
                                <a href="javascript:void(0)" class="chat-pdf-delete" id="${key.id}" data-url="${key.url}"><i class="fa-solid fa-trash fs-15 float-right text-danger"></i></a>
                            </div>
                        </div>
                    `);
                });
            }
        
        
            $(document).ready(function() {
                
                var $dropzone = $('#dropzone');
              
                
                $dropzone.on('dragover', function(event) {
                    event.preventDefault();
                    $(this).addClass('dragover');
                });
    
                $dropzone.on('dragleave', function(event) {
                    event.preventDefault();
                    $(this).removeClass('dragover');
                });
    
                $dropzone.on('drop', function(event) {
                    event.preventDefault();
                    $(this).removeClass('dragover');
                    handleFiles(event.originalEvent.dataTransfer.files);
                });
    
                $('#fileInput').on('change', function(event) {
                    handleFiles(this.files);
                });
    
                function handleFiles(files) {
                    $loader.show();
                 
                    setTimeout(function() {
                      
                    }, 2000); 
                }
            });
        </script>
        
        <script>
        
            $('#addQuestion').click(function() {
    
                var assistant_id = $('#assistantPromptModal').attr('data-assistant-id');
      
                var question = $('#question').val();
   
                let formData = new FormData();
                
                formData.append('assistant_id', assistant_id);
                formData.append('question', question);
   
    
                $(this).prop('disabled', true);
                
    	        $(this).html(loading);
    	        
                var myModal = new bootstrap.Modal(document.getElementById('assistantPromptModal'));
                
                $.ajax({
                    headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
                    method: 'post',
                    url: '/app/user/custom-chat/assistant/faq-add',
                    data: formData,
                    processData: false,
                    contentType: false,
                    success: function(data) {
                    
                        if (data['status'] == 'success') {
                            var faqs = data['data'];
                            
                            get_faqs(faqs);
                            
                            $('#addQuestion').prop('disabled', false);
        					toastr.success('Prompt add successfully');
        					$('#addQuestion').html('Add');
        				} 
        
        				if (data['status'] == 'error') {
        					toastr.error(data['message']);
        				    $('#addQuestion').html('Add');
        				    $('#addQuestion').prop('disabled', false);
        				}
                       
                    },
                    error: function(error) {
            
                        msgerSendBtn.disabled = false;
                    }
                });
            });
            
            function get_faqs(faqs){
                
                var listGroup = $('.listFaqs');
                listGroup.empty();
                faqs.forEach(function(faq) {
                    var listItem = `<li class="list-group-item d-flex align-items-center">
                                        ${faq.question}
                                        <a href="javascript:void(0)" class="btn btn-danger p-0 px-2 rounded-0 ms-auto deleteFaq" data-id="${faq.id}">
                                            <i class="fa fa-minus"></i>
                                        </a>
                                    </li>`;
                    listGroup.append(listItem);
                });
                
            }
    
        	$(document).on('click', '.deleteFaq', function(e) {
        
        		e.preventDefault();
    
                var assistant_id = $('#assistantPromptModal').attr('data-assistant-id');
                
        		Swal.fire({
        			title: 'Are you sure delete it',
        			text: 'It will permanently delete this question',
        			icon: 'warning',
        			showCancelButton: true,
        			confirmButtonText: 'Delete',
        			reverseButtons: true,
        		}).then((result) => {
        			if (result.isConfirmed) {
        			    
        				var formData = new FormData();
        				formData.append("question_id", $(this).attr('data-id'));
        				formData.append("assistant_id", assistant_id);
        				
        				$.ajax({
        					headers: { 'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content') },
        					method: 'post',
        					url: '/app/user/custom-chat/assistant/faq-delete',
        					data: formData,
        					processData: false,
        					contentType: false,
        					success: function (data) {
        						
        						if (data['status'] == 'success') {
        						    
        						    data = data['data'];
        						    
                                    get_faqs(data);
        						    
        							toastr.success('Question has been successfully deleted');
        
        						}else {
        							toastr.warning('There was an issue while deleting chat conversation');
        						}      
        					},
        					error: function(data) {
        						Swal.fire('Oops...','Something went wrong!', 'error')
        					}
        				})
        			} 
        		})
        	});
    
        </script>
        

<!-- Awselect JS -->
<script src="https://scholaraid.ai/plugins/awselect/awselect-custom.js"></script>
<script src="/themes/default/js/awselect.js"></script>

<!-- Simplebar JS -->
<script src="https://scholaraid.ai/plugins/simplebar/js/simplebar.min.js"></script>

<!-- Tippy JS -->
<script src="https://scholaraid.ai/plugins/tippy/popper.min.js"></script>
<script src="https://scholaraid.ai/plugins/tippy/tippy-bundle.umd.min.js"></script>

<!-- Toastr JS -->
<script src="https://scholaraid.ai/plugins/toastr/toastr.min.js"></script>

<!-- Custom js-->
<script src="/themes/default/js/custom.js"></script>


<!-- Google Analytics -->

<!-- Mark as Read JS-->
<script type="text/javascript">

    function sendMarkRequest(id = null) {
        return $.ajax("https://scholaraid.ai/app/user/notifications/mark-as-read", {
            method: 'POST',
            data: {"_token": "dVeuaKr6hVgLSSh9q2s3FcEHgEzajEJrEfvef3tG", id}
        });
    }

    function changeTemplate(value) {
		let url = '/' + value;
		window.location.href=url;
	}

    var totalNotifications;
    var totalNotifications_a;
    var totalNotifications_b;

    $(function() {     

        $('.mark-as-read').on('click', function() {
            let request = sendMarkRequest($(this).data('id'));
            request.done(() => {
                $(this).parents('div.dropdown-item').remove();
            });

            document.getElementById("total-notifications").innerHTML = --totalNotifications;
            document.getElementById("total-notifications-a").innerHTML = --totalNotifications_a;
            document.getElementById("total-notifications-b").innerHTML = --totalNotifications_b;
        });

        $('#mark-all').on('click', function() {
            let request = sendMarkRequest();
            request.done(() => {
                $('div.notify-menu').remove();
            })

            document.getElementById("total-notifications").innerHTML = 0;
        });
    });        

    $(document).ready(function(){
       
        if (document.getElementById("total-notifications")) {
            totalNotifications = "0";
            document.getElementById("total-notifications").innerHTML = totalNotifications;
        }  
        if (document.getElementById("total-notifications-a")) {
            totalNotifications_a = "0";
            document.getElementById("total-notifications-a").innerHTML = totalNotifications_a;
        }
        if (document.getElementById("total-notifications-b")) {
            totalNotifications_b = "0";
            document.getElementById("total-notifications-b").innerHTML = totalNotifications_b;
        }                  
        
    });

    tippy('[data-tippy-content]', {
        animation: 'scale-extreme',
        theme: 'material',
    });

    toastr.options.showMethod = 'slideDown';
    toastr.options.hideMethod = 'slideUp';
    toastr.options.progressBar = true;


    document.querySelector(".btn-theme-toggle > span").classList.add("fa-moon-stars");
    var myCookie = (document.cookie.match(/^(?:.*;)?\s*theme\s*=\s*([^;]+)(?:.*)?$/)||[,null])[1];
    if (myCookie == 'dark') {
            document.querySelector(".btn-theme-toggle > span").classList.remove("fa-moon-stars");
            document.querySelector(".btn-theme-toggle > span").classList.add("fa-sun-bright");  
            var logo = document.querySelector(".desktop-lgo");
            logo.src = 'https://scholaraid.ai/uploads/logo/dashboard-dark-logo.png';
    }

    const btn = document.querySelector(".btn-theme-toggle");
    btn.addEventListener("click", function() {
        if (document.body.classList.contains('light-theme')) {
            document.body.classList.remove('light-mode');
            document.body.classList.add('dark-mode');
            document.querySelector(".btn-theme-toggle > span").classList.remove("fa-moon-stars");
            document.querySelector(".btn-theme-toggle > span").classList.add("fa-sun-bright");
            var logo = document.querySelector(".desktop-lgo");
            logo.src = 'https://scholaraid.ai/uploads/logo/dashboard-logo.png';
            var theme = "dark";
        } else if(document.body.classList.contains('dark-theme')) {
            document.body.classList.remove('dark-mode');
            document.body.classList.add('light-mode');
            document.querySelector(".btn-theme-toggle > span").classList.remove("fa-sun-bright");
            document.querySelector(".btn-theme-toggle > span").classList.add("fa-moon-stars");
            var logo = document.querySelector(".desktop-lgo");
            logo.src = 'https://scholaraid.ai/uploads/logo/dashboard-dark-logo.png';
            var theme = "light";
        } else {
            document.querySelector(".btn-theme-toggle > span").classList.remove("fa-moon-stars");
            document.querySelector(".btn-theme-toggle > span").classList.add("fa-sun-bright");
            document.body.classList.add('dark-mode');
            var logo = document.querySelector(".desktop-lgo");
            logo.src = 'https://scholaraid.ai/uploads/logo/dashboard-dark-logo.png';
            var theme = "dark";
        }
    
        document.cookie = "theme=" + theme + ";path=/";

        $.ajax({
            headers: {
                'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
            },
            type: "POST",
            url: '/app/user/profile/settings',
            data: {'theme': theme},
            success: function(data) {
            },
            error: function(data) {        
            }
        }).done(function(data) {})

        location.reload();
    });


    $(function(){

        var ua =navigator.userAgent;
        if(ua.indexOf('iPhone') > -1 || ua.indexOf('iPad') > -1 || ua.indexOf('iPod')  > -1){
            var start = "touchstart";
            var move  = "touchmove";
            var end   = "touchend";
        } else{
            var start = "mousedown";
            var move  = "mousemove";
            var end   = "mouseup";
        }
        var ink, d, x, y;
        $(".ripple").on(start, function(e){
        
            if($(this).find(".ink").length === 0){
            $(this).prepend("<span class='ink'></span>");
        }
            
        ink = $(this).find(".ink");
        ink.removeClass("animate");
        
        if(!ink.height() && !ink.width()){
            d = Math.max($(this).outerWidth(), $(this).outerHeight());
            ink.css({height: d, width: d});
        }
        
        x = e.originalEvent.pageX - $(this).offset().left - ink.width()/2;
        y = e.originalEvent.pageY - $(this).offset().top - ink.height()/2;
        
        ink.css({top: y+'px', left: x+'px'}).addClass("animate");

        });

    });
   
</script>

<!-- Live Chat -->

            </div>		
        </div><!-- END PAGE -->
        
		        

	</body>
</html>


